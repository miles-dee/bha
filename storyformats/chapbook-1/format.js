window.storyFormat({
    "source": "<!DOCTYPE html><html><head><title>{{STORY_NAME}}</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>.fade-in{animation:fade-in 1s ease-out forwards;opacity:0}.fade-out{animation:fade-in 1s ease-out reverse forwards}.skip-animation{animation-delay:0s!important}@keyframes fade-in{0%{opacity:0}to{opacity:1}}\n#page .warnings{list-style-type:none;margin-left:0;padding-left:0}\n:root{--oc-white:#fff;--oc-white-rgb:255,255,255;--oc-black:#000;--oc-black-rgb:0,0,0;--oc-gray-0:#f8f9fa;--oc-gray-0-rgb:248,249,250;--oc-gray-1:#f1f3f5;--oc-gray-1-rgb:241,243,245;--oc-gray-2:#e9ecef;--oc-gray-2-rgb:233,236,239;--oc-gray-3:#dee2e6;--oc-gray-3-rgb:222,226,230;--oc-gray-4:#ced4da;--oc-gray-4-rgb:206,212,218;--oc-gray-5:#adb5bd;--oc-gray-5-rgb:173,181,189;--oc-gray-6:#868e96;--oc-gray-6-rgb:134,142,150;--oc-gray-7:#495057;--oc-gray-7-rgb:73,80,87;--oc-gray-8:#343a40;--oc-gray-8-rgb:52,58,64;--oc-gray-9:#212529;--oc-gray-9-rgb:33,37,41;--oc-red-0:#fff5f5;--oc-red-0-rgb:255,245,245;--oc-red-1:#ffe3e3;--oc-red-1-rgb:255,227,227;--oc-red-2:#ffc9c9;--oc-red-2-rgb:255,201,201;--oc-red-3:#ffa8a8;--oc-red-3-rgb:255,168,168;--oc-red-4:#ff8787;--oc-red-4-rgb:255,135,135;--oc-red-5:#ff6b6b;--oc-red-5-rgb:255,107,107;--oc-red-6:#fa5252;--oc-red-6-rgb:250,82,82;--oc-red-7:#f03e3e;--oc-red-7-rgb:240,62,62;--oc-red-8:#e03131;--oc-red-8-rgb:224,49,49;--oc-red-9:#c92a2a;--oc-red-9-rgb:201,42,42;--oc-pink-0:#fff0f6;--oc-pink-0-rgb:255,240,246;--oc-pink-1:#ffdeeb;--oc-pink-1-rgb:255,222,235;--oc-pink-2:#fcc2d7;--oc-pink-2-rgb:252,194,215;--oc-pink-3:#faa2c1;--oc-pink-3-rgb:250,162,193;--oc-pink-4:#f783ac;--oc-pink-4-rgb:247,131,172;--oc-pink-5:#f06595;--oc-pink-5-rgb:240,101,149;--oc-pink-6:#e64980;--oc-pink-6-rgb:230,73,128;--oc-pink-7:#d6336c;--oc-pink-7-rgb:214,51,108;--oc-pink-8:#c2255c;--oc-pink-8-rgb:194,37,92;--oc-pink-9:#a61e4d;--oc-pink-9-rgb:166,30,77;--oc-grape-0:#f8f0fc;--oc-grape-0-rgb:248,240,252;--oc-grape-1:#f3d9fa;--oc-grape-1-rgb:243,217,250;--oc-grape-2:#eebefa;--oc-grape-2-rgb:238,190,250;--oc-grape-3:#e599f7;--oc-grape-3-rgb:229,153,247;--oc-grape-4:#da77f2;--oc-grape-4-rgb:218,119,242;--oc-grape-5:#cc5de8;--oc-grape-5-rgb:204,93,232;--oc-grape-6:#be4bdb;--oc-grape-6-rgb:190,75,219;--oc-grape-7:#ae3ec9;--oc-grape-7-rgb:174,62,201;--oc-grape-8:#9c36b5;--oc-grape-8-rgb:156,54,181;--oc-grape-9:#862e9c;--oc-grape-9-rgb:134,46,156;--oc-violet-0:#f3f0ff;--oc-violet-0-rgb:243,240,255;--oc-violet-1:#e5dbff;--oc-violet-1-rgb:229,219,255;--oc-violet-2:#d0bfff;--oc-violet-2-rgb:208,191,255;--oc-violet-3:#b197fc;--oc-violet-3-rgb:177,151,252;--oc-violet-4:#9775fa;--oc-violet-4-rgb:151,117,250;--oc-violet-5:#845ef7;--oc-violet-5-rgb:132,94,247;--oc-violet-6:#7950f2;--oc-violet-6-rgb:121,80,242;--oc-violet-7:#7048e8;--oc-violet-7-rgb:112,72,232;--oc-violet-8:#6741d9;--oc-violet-8-rgb:103,65,217;--oc-violet-9:#5f3dc4;--oc-violet-9-rgb:95,61,196;--oc-indigo-0:#edf2ff;--oc-indigo-0-rgb:237,242,255;--oc-indigo-1:#dbe4ff;--oc-indigo-1-rgb:219,228,255;--oc-indigo-2:#bac8ff;--oc-indigo-2-rgb:186,200,255;--oc-indigo-3:#91a7ff;--oc-indigo-3-rgb:145,167,255;--oc-indigo-4:#748ffc;--oc-indigo-4-rgb:116,143,252;--oc-indigo-5:#5c7cfa;--oc-indigo-5-rgb:92,124,250;--oc-indigo-6:#4c6ef5;--oc-indigo-6-rgb:76,110,245;--oc-indigo-7:#4263eb;--oc-indigo-7-rgb:66,99,235;--oc-indigo-8:#3b5bdb;--oc-indigo-8-rgb:59,91,219;--oc-indigo-9:#364fc7;--oc-indigo-9-rgb:54,79,199;--oc-blue-0:#e7f5ff;--oc-blue-0-rgb:231,245,255;--oc-blue-1:#d0ebff;--oc-blue-1-rgb:208,235,255;--oc-blue-2:#a5d8ff;--oc-blue-2-rgb:165,216,255;--oc-blue-3:#74c0fc;--oc-blue-3-rgb:116,192,252;--oc-blue-4:#4dabf7;--oc-blue-4-rgb:77,171,247;--oc-blue-5:#339af0;--oc-blue-5-rgb:51,154,240;--oc-blue-6:#228be6;--oc-blue-6-rgb:34,139,230;--oc-blue-7:#1c7ed6;--oc-blue-7-rgb:28,126,214;--oc-blue-8:#1971c2;--oc-blue-8-rgb:25,113,194;--oc-blue-9:#1864ab;--oc-blue-9-rgb:24,100,171;--oc-cyan-0:#e3fafc;--oc-cyan-0-rgb:227,250,252;--oc-cyan-1:#c5f6fa;--oc-cyan-1-rgb:197,246,250;--oc-cyan-2:#99e9f2;--oc-cyan-2-rgb:153,233,242;--oc-cyan-3:#66d9e8;--oc-cyan-3-rgb:102,217,232;--oc-cyan-4:#3bc9db;--oc-cyan-4-rgb:59,201,219;--oc-cyan-5:#22b8cf;--oc-cyan-5-rgb:34,184,207;--oc-cyan-6:#15aabf;--oc-cyan-6-rgb:21,170,191;--oc-cyan-7:#1098ad;--oc-cyan-7-rgb:16,152,173;--oc-cyan-8:#0c8599;--oc-cyan-8-rgb:12,133,153;--oc-cyan-9:#0b7285;--oc-cyan-9-rgb:11,114,133;--oc-teal-0:#e6fcf5;--oc-teal-0-rgb:230,252,245;--oc-teal-1:#c3fae8;--oc-teal-1-rgb:195,250,232;--oc-teal-2:#96f2d7;--oc-teal-2-rgb:150,242,215;--oc-teal-3:#63e6be;--oc-teal-3-rgb:99,230,190;--oc-teal-4:#38d9a9;--oc-teal-4-rgb:56,217,169;--oc-teal-5:#20c997;--oc-teal-5-rgb:32,201,151;--oc-teal-6:#12b886;--oc-teal-6-rgb:18,184,134;--oc-teal-7:#0ca678;--oc-teal-7-rgb:12,166,120;--oc-teal-8:#099268;--oc-teal-8-rgb:9,146,104;--oc-teal-9:#087f5b;--oc-teal-9-rgb:8,127,91;--oc-green-0:#ebfbee;--oc-green-0-rgb:235,251,238;--oc-green-1:#d3f9d8;--oc-green-1-rgb:211,249,216;--oc-green-2:#b2f2bb;--oc-green-2-rgb:178,242,187;--oc-green-3:#8ce99a;--oc-green-3-rgb:140,233,154;--oc-green-4:#69db7c;--oc-green-4-rgb:105,219,124;--oc-green-5:#51cf66;--oc-green-5-rgb:81,207,102;--oc-green-6:#40c057;--oc-green-6-rgb:64,192,87;--oc-green-7:#37b24d;--oc-green-7-rgb:55,178,77;--oc-green-8:#2f9e44;--oc-green-8-rgb:47,158,68;--oc-green-9:#2b8a3e;--oc-green-9-rgb:43,138,62;--oc-lime-0:#f4fce3;--oc-lime-0-rgb:244,252,227;--oc-lime-1:#e9fac8;--oc-lime-1-rgb:233,250,200;--oc-lime-2:#d8f5a2;--oc-lime-2-rgb:216,245,162;--oc-lime-3:#c0eb75;--oc-lime-3-rgb:192,235,117;--oc-lime-4:#a9e34b;--oc-lime-4-rgb:169,227,75;--oc-lime-5:#94d82d;--oc-lime-5-rgb:148,216,45;--oc-lime-6:#82c91e;--oc-lime-6-rgb:130,201,30;--oc-lime-7:#74b816;--oc-lime-7-rgb:116,184,22;--oc-lime-8:#66a80f;--oc-lime-8-rgb:102,168,15;--oc-lime-9:#5c940d;--oc-lime-9-rgb:92,148,13;--oc-yellow-0:#fff9db;--oc-yellow-0-rgb:255,249,219;--oc-yellow-1:#fff3bf;--oc-yellow-1-rgb:255,243,191;--oc-yellow-2:#ffec99;--oc-yellow-2-rgb:255,236,153;--oc-yellow-3:#ffe066;--oc-yellow-3-rgb:255,224,102;--oc-yellow-4:#ffd43b;--oc-yellow-4-rgb:255,212,59;--oc-yellow-5:#fcc419;--oc-yellow-5-rgb:252,196,25;--oc-yellow-6:#fab005;--oc-yellow-6-rgb:250,176,5;--oc-yellow-7:#f59f00;--oc-yellow-7-rgb:245,159,0;--oc-yellow-8:#f08c00;--oc-yellow-8-rgb:240,140,0;--oc-yellow-9:#e67700;--oc-yellow-9-rgb:230,119,0;--oc-orange-0:#fff4e6;--oc-orange-0-rgb:255,244,230;--oc-orange-1:#ffe8cc;--oc-orange-1-rgb:255,232,204;--oc-orange-2:#ffd8a8;--oc-orange-2-rgb:255,216,168;--oc-orange-3:#ffc078;--oc-orange-3-rgb:255,192,120;--oc-orange-4:#ffa94d;--oc-orange-4-rgb:255,169,77;--oc-orange-5:#ff922b;--oc-orange-5-rgb:255,146,43;--oc-orange-6:#fd7e14;--oc-orange-6-rgb:253,126,20;--oc-orange-7:#f76707;--oc-orange-7-rgb:247,103,7;--oc-orange-8:#e8590c;--oc-orange-8-rgb:232,89,12;--oc-orange-9:#d9480f;--oc-orange-9-rgb:217,72,15;--page-margin:1em;--page-width:40em;--font-monospaced:\"Courier New\",\"Courier\",monospace;--font-system:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu Cantarell,\"Helvetica Neue\",sans-serif}.small-caps{font-size:70%;letter-spacing:.075em;text-transform:uppercase}#backdrop{align-items:center;min-height:100vh}#backdrop,#page{display:flex;justify-content:center}#page{flex-direction:column;line-height:150%;margin:var(--page-margin);max-width:calc(100vw - 2em);min-height:calc(100vh - var(--page-margin)*2);padding:4em 4em 2em;position:relative;width:var(--page-width)}#page article{display:flex;flex-grow:1}#page article>:first-child{margin-top:0;width:100%}#page footer,#page header{display:flex}#page footer>div,#page header>div{flex-grow:1}#page footer p,#page header p{margin:.5em 0 0}#page footer .center,#page header .center{text-align:center}#page footer .right p,#page header .right p{text-align:right}#page header{margin-top:0}#page header.has-content{border-bottom:1px solid #000}#page header.has-content+article>article>div>p:first-child,#page header.has-content+article>div>p:first-child{margin-top:1em}#page footer{margin-bottom:0}#page footer.has-content{border-top:1px solid #000}#page hr{border:none}#page hr:after{content:\"*  *  *\";display:block;text-align:center}#page .error,#page .warning{background:var(--oc-red-0);border-left:4px solid var(--oc-red-3);color:var(--oc-red-9);margin-bottom:1em;overflow:auto;padding:.5em;position:relative}#page .error :first-child,#page .warning :first-child{margin-top:0}#page .error :last-child,#page .warning :last-child{margin-bottom:0}#page .error a,#page .warning a{color:var(--oc-red-9)}#page .warning{background:var(--oc-yellow-0)}#page .warning,#page .warning a{color:var(--oc-yellow-9)}#page .fork p{display:flex;flex-direction:column;width:100%}#page .fork p a{display:block;flex-grow:1;padding:.5em;text-align:center}@media screen and (max-width:768px){#page{margin:0;max-width:100vw;min-height:100vh;padding:1em;width:100vw}}#spinner{bottom:0;height:auto;opacity:0;pointer-events:none;position:absolute;right:0;transition:opacity .25s ease-in-out;width:50px}#spinner.visible{display:block;opacity:1}\n*{box-sizing:border-box}body{margin:0;padding:0}img{height:auto;max-width:100%}input[type=text],select{padding:.25em}pre{white-space:pre-wrap}tw-storydata{display:none}</style></head><body></body><html></html><head></head><body><form id=\"cb-validation\" action=\"javascript:void(0)\"><button id=\"cb-validation-tester\" hidden=\"\"></button><button id=\"cb-block-enter-key\" hidden=\"\"></button><div id=\"backdrop\"><div id=\"page\" aria-live=\"polite\"><header><div class=\"left\"></div><div class=\"center\"></div><div class=\"right\"></div></header><article></article><ul class=\"warnings\"></ul><footer><div class=\"left\"></div><div class=\"center\"></div><div class=\"right\"></div></footer><div id=\"spinner\"><svg xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 100 100\">\n    <rect x=\"31\" y=\"14\" width=\"38\" height=\"72\" rx=\"4\" fill=\"white\" />\n    <circle cx=\"50\" cy=\"50\" r=\"28\" fill=\"white\" />\n\t<rect x=\"35\" y=\"18\" width=\"30\" height=\"64\" rx=\"4\" fill=\"white\" stroke-width=\"2px\" stroke=\"black\" />\n    <circle cx=\"50\" cy=\"50\" r=\"20\" stroke=\"black\" fill=\"white\" stroke-width=\"2px\" />\n\t<line x1=\"50\" y1=\"50\" x2=\"50\" y2=\"37\" stroke=\"black\" stroke-width=\"2px\" stroke-linecap=\"round\">\n        <animateTransform\n            attributeName=\"transform\"\n            begin=\"0s\"\n            dur=\"20s\"\n            type=\"rotate\"\n            from=\"0 50 50\"\n            to=\"360 50 50\"\n            repeatCount=\"indefinite\"\n        />\n\t</line>\n\t<line x1=\"50\" y1=\"50\" x2=\"42\" y2=\"50\" stroke=\"black\" stroke-width=\"2px\" stroke-linecap=\"round\">\n        <animateTransform\n            attributeName=\"transform\"\n            begin=\"0s\"\n            dur=\"120s\"\n            type=\"rotate\"\n            from=\"0 50 50\"\n            to=\"360 50 50\"\n            repeatCount=\"indefinite\"\n        />\n\t</line>\n</svg></div></div></div></form>{{STORY_DATA}}<script>!function(e){\"use strict\";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if(\"default\"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e),r=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function o(e){if(e.__esModule)return e;var t=Object.defineProperty({},\"__esModule\",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var i=\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{};function a(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}var c=a,l=s;function u(e){if(c===setTimeout)return setTimeout(e,0);if((c===a||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}\"function\"==typeof i.setTimeout&&(c=setTimeout),\"function\"==typeof i.clearTimeout&&(l=clearTimeout);var f,d=[],p=!1,h=-1;function g(){p&&f&&(p=!1,f.length?d=f.concat(d):h=-1,d.length&&m())}function m(){if(!p){var e=u(g);p=!0;for(var t=d.length;t;){for(f=d,d=[];++h<t;)f&&f[h].run();h=-1,t=d.length}f=null,p=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===s||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}b.prototype.run=function(){this.fun.apply(null,this.array)};function y(){}var v=y,w=y,k=y,x=y,S=y,_=y,E=y;var A=i.performance||{},O=A.now||A.mozNow||A.msNow||A.oNow||A.webkitNow||function(){return(new Date).getTime()};var j=new Date;var T={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new b(e,t)),1!==d.length||p||u(m)},title:\"browser\",browser:!0,env:{},argv:[],version:\"\",versions:{},on:v,addListener:w,once:k,off:x,removeListener:S,removeAllListeners:_,emit:E,binding:function(e){throw new Error(\"process.binding is not supported\")},cwd:function(){return\"/\"},chdir:function(e){throw new Error(\"process.chdir is not supported\")},umask:function(){return 0},hrtime:function(e){var t=.001*O.call(A),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:\"browser\",release:{},config:{},uptime:function(){return(new Date-j)/1e3}};function z(e){return null!=e&&(!!e._isBuffer||L(e)||function(e){return\"function\"==typeof e.readFloatLE&&\"function\"==typeof e.slice&&L(e.slice(0,0))}(e))}function L(e){return!!e.constructor&&\"function\"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}void 0===i.TYPED_ARRAY_SUPPORT||i.TYPED_ARRAY_SUPPORT;var $=\"function\"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};function C(e,t){var n={seen:[],stylize:I};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),P(t)?n.showHidden=t:t&&V(n,t),H(n.showHidden)&&(n.showHidden=!1),H(n.depth)&&(n.depth=2),H(n.colors)&&(n.colors=!1),H(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=q),R(n,e,n.depth)}function q(e,t){var n=C.styles[t];return n?\"\u001b[\"+C.colors[n][0]+\"m\"+e+\"\u001b[\"+C.colors[n][1]+\"m\":e}function I(e,t){return e}function R(e,t,n){if(e.customInspect&&t&&J(t.inspect)&&t.inspect!==C&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return F(r)||(r=R(e,r,n)),r}var o=function(e,t){if(H(t))return e.stylize(\"undefined\",\"undefined\");if(F(t)){var n=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(n,\"string\")}if(r=t,\"number\"==typeof r)return e.stylize(\"\"+t,\"number\");var r;if(P(t))return e.stylize(\"\"+t,\"boolean\");if(M(t))return e.stylize(\"null\",\"null\")}(e,t);if(o)return o;var i=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),G(t)&&(i.indexOf(\"message\")>=0||i.indexOf(\"description\")>=0))return N(t);if(0===i.length){if(J(t)){var s=t.name?\": \"+t.name:\"\";return e.stylize(\"[Function\"+s+\"]\",\"special\")}if(U(t))return e.stylize(RegExp.prototype.toString.call(t),\"regexp\");if(B(t))return e.stylize(Date.prototype.toString.call(t),\"date\");if(G(t))return N(t)}var c,l,u=\"\",f=!1,d=[\"{\",\"}\"];(c=t,Array.isArray(c)&&(f=!0,d=[\"[\",\"]\"]),J(t))&&(u=\" [Function\"+(t.name?\": \"+t.name:\"\")+\"]\");return U(t)&&(u=\" \"+RegExp.prototype.toString.call(t)),B(t)&&(u=\" \"+Date.prototype.toUTCString.call(t)),G(t)&&(u=\" \"+N(t)),0!==i.length||f&&0!=t.length?n<0?U(t)?e.stylize(RegExp.prototype.toString.call(t),\"regexp\"):e.stylize(\"[Object]\",\"special\"):(e.seen.push(t),l=f?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)W(t,String(a))?i.push(D(e,t,n,r,String(a),!0)):i.push(\"\");return o.forEach((function(o){o.match(/^\\d+$/)||i.push(D(e,t,n,r,o,!0))})),i}(e,t,n,a,i):i.map((function(r){return D(e,t,n,a,r,f)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf(\"\\n\"),e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1}),0)>60)return n[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+n[1];return n[0]+t+\" \"+e.join(\", \")+\" \"+n[1]}(l,u,d)):d[0]+u+d[1]}function N(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function D(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):c.set&&(s=e.stylize(\"[Setter]\",\"special\")),W(r,o)||(a=\"[\"+o+\"]\"),s||(e.seen.indexOf(c.value)<0?(s=M(n)?R(e,c.value,null):R(e,c.value,n-1)).indexOf(\"\\n\")>-1&&(s=i?s.split(\"\\n\").map((function(e){return\"  \"+e})).join(\"\\n\").substr(2):\"\\n\"+s.split(\"\\n\").map((function(e){return\"   \"+e})).join(\"\\n\")):s=e.stylize(\"[Circular]\",\"special\")),H(a)){if(i&&o.match(/^\\d+$/))return s;(a=JSON.stringify(\"\"+o)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,\"name\")):(a=a.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),a=e.stylize(a,\"string\"))}return a+\": \"+s}function P(e){return\"boolean\"==typeof e}function M(e){return null===e}function F(e){return\"string\"==typeof e}function H(e){return void 0===e}function U(e){return Z(e)&&\"[object RegExp]\"===X(e)}function Z(e){return\"object\"==typeof e&&null!==e}function B(e){return Z(e)&&\"[object Date]\"===X(e)}function G(e){return Z(e)&&(\"[object Error]\"===X(e)||e instanceof Error)}function J(e){return\"function\"==typeof e}function Y(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e}function X(e){return Object.prototype.toString.call(e)}function V(e,t){if(!t||!Z(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function W(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}C.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},C.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"};var Q,ee=Object.prototype.hasOwnProperty,te=Object.keys||function(e){var t=[];for(var n in e)ee.call(e,n)&&t.push(n);return t},ne=Array.prototype.slice;function re(){return void 0!==Q?Q:Q=\"foo\"===function(){}.name}function oe(e){return Object.prototype.toString.call(e)}function ie(e){return!z(e)&&(\"function\"==typeof i.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function ae(e,t){e||de(e,!0,t,\"==\",pe)}var se=/\\s*function\\s+([^\\(\\s]*)\\s*/;function ce(e){if(J(e)){if(re())return e.name;var t=e.toString().match(se);return t&&t[1]}}function le(e){this.name=\"AssertionError\",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return ue(fe(e.actual),128)+\" \"+e.operator+\" \"+ue(fe(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||de;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=ce(t),i=r.indexOf(\"\\n\"+o);if(i>=0){var a=r.indexOf(\"\\n\",i+1);r=r.substring(a+1)}this.stack=r}}}function ue(e,t){return\"string\"==typeof e?e.length<t?e:e.slice(0,t):e}function fe(e){if(re()||!J(e))return C(e);var t=ce(e);return\"[Function\"+(t?\": \"+t:\"\")+\"]\"}function de(e,t,n,r,o){throw new le({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function pe(e,t){e||de(e,!0,t,\"==\",pe)}function he(e,t,n){e!=t&&de(e,t,n,\"==\",he)}function ge(e,t,n){e==t&&de(e,t,n,\"!=\",ge)}function me(e,t,n){ye(e,t,!1)||de(e,t,n,\"deepEqual\",me)}function be(e,t,n){ye(e,t,!0)||de(e,t,n,\"deepStrictEqual\",be)}function ye(e,t,n,r){if(e===t)return!0;if(z(e)&&z(t))return 0===K(e,t);if(B(e)&&B(t))return e.getTime()===t.getTime();if(U(e)&&U(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&\"object\"==typeof e||null!==t&&\"object\"==typeof t){if(ie(e)&&ie(t)&&oe(e)===oe(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===K(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(z(e)!==z(t))return!1;var o=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==o&&o===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(Y(e)||Y(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=ve(e),i=ve(t);if(o&&!i||!o&&i)return!1;if(o)return ye(e=ne.call(e),t=ne.call(t),n);var a,s,c=te(e),l=te(t);if(c.length!==l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!==l[s])return!1;for(s=c.length-1;s>=0;s--)if(!ye(e[a=c[s]],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function ve(e){return\"[object Arguments]\"==Object.prototype.toString.call(e)}function we(e,t,n){ye(e,t,!1)&&de(e,t,n,\"notDeepEqual\",we)}function ke(e,t,n){ye(e,t,!0)&&de(e,t,n,\"notDeepStrictEqual\",ke)}function xe(e,t,n){e!==t&&de(e,t,n,\"===\",xe)}function Se(e,t,n){e===t&&de(e,t,n,\"!==\",Se)}function _e(e,t){if(!e||!t)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function Ee(e,t,n,r){var o;if(\"function\"!=typeof t)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?\" (\"+n.name+\").\":\".\")+(r?\" \"+r:\".\"),e&&!o&&de(o,n,\"Missing expected exception\"+r);var i=\"string\"==typeof r,a=!e&&o&&!n;if((!e&&G(o)&&i&&_e(o,n)||a)&&de(o,n,\"Got unwanted exception\"+r),e&&o&&n&&!_e(o,n)||!e&&o)throw o}function Ae(e,t,n){Ee(!0,e,t,n)}function Oe(e,t,n){Ee(!1,e,t,n)}function je(e){if(e)throw e}ae.AssertionError=le,$(le,Error),ae.fail=de,ae.ok=pe,ae.equal=he,ae.notEqual=ge,ae.deepEqual=me,ae.deepStrictEqual=be,ae.notDeepEqual=we,ae.notDeepStrictEqual=ke,ae.strictEqual=xe,ae.notStrictEqual=Se,ae.throws=Ae,ae.doesNotThrow=Oe,ae.ifError=je;var Te=o(Object.freeze({__proto__:null,default:ae,AssertionError:le,fail:de,ok:pe,assert:pe,equal:he,notEqual:ge,deepEqual:me,deepStrictEqual:be,notDeepEqual:we,notDeepStrictEqual:ke,strictEqual:xe,notStrictEqual:Se,throws:Ae,doesNotThrow:Oe,ifError:je})),ze=Te,Le=\"undefined\"!=typeof window;function $e(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}$e.prototype.push=function(e){ze.equal(typeof e,\"function\",\"nanoscheduler.push: cb should be type function\"),this.queue.push(e),this.schedule()},$e.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method((function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()}))}},$e.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})};var Ce,qe=function(){var e;return Le?(window._nanoScheduler||(window._nanoScheduler=new $e(!0)),e=window._nanoScheduler):e=new $e,e},Ie=qe(),Re=Te;De.disabled=!0;try{Ce=window.performance,De.disabled=\"true\"===window.localStorage.DISABLE_NANOTIMING||!Ce.mark}catch(e){}var Ne=De;function De(e){if(Re.equal(typeof e,\"string\",\"nanotiming: name should be type string\"),De.disabled)return Pe;var t=(1e4*Ce.now()).toFixed()%Number.MAX_SAFE_INTEGER,n=\"start-\"+t+\"-\"+e;function r(r){var o=\"end-\"+t+\"-\"+e;Ce.mark(o),Ie.push((function(){var i=null;try{var a=e+\" [\"+t+\"]\";Ce.measure(a,n,o),Ce.clearMarks(n),Ce.clearMarks(o)}catch(e){i=e}r&&r(i,e)}))}return Ce.mark(n),r.uuid=t,r}function Pe(e){e&&Ie.push((function(){e(new Error(\"nanotiming: performance API unavailable\"))}))}var Me,Fe=Te;He.disabled=!0;try{Me=require(\"perf_hooks\").performance,He.disabled=T.env.DISABLE_NANOTIMING||!Me.mark}catch(e){}function He(e){if(\"undefined\"!=typeof window)return Ne(e);if(Fe.equal(typeof e,\"string\",\"nanotiming: name should be type string\"),He.disabled)return Ue;var t=(1e4*Me.now()).toFixed()%Number.MAX_SAFE_INTEGER,n=\"start-\"+t+\"-\"+e;function r(r){var o=\"end-\"+t+\"-\"+e;Me.mark(o);var i=null;try{var a=e+\" [\"+t+\"]\";Me.measure(a,n,o),Me.clearMarks(n),Me.clearMarks(o)}catch(e){i=e}r&&r(i,e)}return Me.mark(n),r.uuid=t,r}function Ue(e){e&&e(new Error(\"nanotiming: performance API unavailable\"))}var Ze=function(e,t,n){var r,o=e.length;if(!(t>=o||0===n)){var i=o-(n=t+n>o?o-t:n);for(r=t;r<i;++r)e[r]=e[r+n];e.length=i}},Be=He,Ge=Te,Je=Ye;function Ye(e){if(!(this instanceof Ye))return new Ye(e);this._name=e||\"nanobus\",this._starListeners=[],this._listeners={}}Ye.prototype.emit=function(e){Ge.ok(\"string\"==typeof e||\"symbol\"==typeof e,\"nanobus.emit: eventName should be type string or symbol\");for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);var o=Be(this._name+\"('\"+e.toString()+\"')\"),i=this._listeners[e];return i&&i.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,o.uuid),o(),this},Ye.prototype.on=Ye.prototype.addListener=function(e,t){return Ge.ok(\"string\"==typeof e||\"symbol\"==typeof e,\"nanobus.on: eventName should be type string or symbol\"),Ge.equal(typeof t,\"function\",\"nanobus.on: listener should be type function\"),\"*\"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},Ye.prototype.prependListener=function(e,t){return Ge.ok(\"string\"==typeof e||\"symbol\"==typeof e,\"nanobus.prependListener: eventName should be type string or symbol\"),Ge.equal(typeof t,\"function\",\"nanobus.prependListener: listener should be type function\"),\"*\"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},Ye.prototype.once=function(e,t){Ge.ok(\"string\"==typeof e||\"symbol\"==typeof e,\"nanobus.once: eventName should be type string or symbol\"),Ge.equal(typeof t,\"function\",\"nanobus.once: listener should be type function\");var n=this;return this.on(e,(function r(){t.apply(n,arguments),n.removeListener(e,r)})),this},Ye.prototype.prependOnceListener=function(e,t){Ge.ok(\"string\"==typeof e||\"symbol\"==typeof e,\"nanobus.prependOnceListener: eventName should be type string or symbol\"),Ge.equal(typeof t,\"function\",\"nanobus.prependOnceListener: listener should be type function\");var n=this;return this.prependListener(e,(function r(){t.apply(n,arguments),n.removeListener(e,r)})),this},Ye.prototype.removeListener=function(e,t){return Ge.ok(\"string\"==typeof e||\"symbol\"==typeof e,\"nanobus.removeListener: eventName should be type string or symbol\"),Ge.equal(typeof t,\"function\",\"nanobus.removeListener: listener should be type function\"),\"*\"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(Ze(e,n,1),!0):void 0}}},Ye.prototype.removeAllListeners=function(e){return e?\"*\"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},Ye.prototype.listeners=function(e){var t=\"*\"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var r=t.length,o=0;o<r;o++)n.push(t[o]);return n},Ye.prototype._emit=function(e,t,n,r){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==r?[t].concat(n,r):[t].concat(n));for(var o=e.length,i=0;i<o;i++){var a=e[i];a.apply(a,n)}}};var Xe=Je();function Ve(e){return Ve=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ve(e)}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||Qe(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ke(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||Qe(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Qe(e,t){if(e){if(\"string\"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=Qe(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}\n/*!\n\t * isobject <https://github.com/jonschlinkert/isobject>\n\t *\n\t * Copyright (c) 2014-2017, Jon Schlinkert.\n\t * Released under the MIT License.\n\t */var nt=function(e){return null!=e&&\"object\"==typeof e&&!1===Array.isArray(e)};\n/*!\n\t * get-value <https://github.com/jonschlinkert/get-value>\n\t *\n\t * Copyright (c) 2014-2018, Jon Schlinkert.\n\t * Released under the MIT License.\n\t */const rt=nt;var ot=function(e,t,n){if(rt(n)||(n={default:n}),!st(e))return void 0!==n.default?n.default:e;\"number\"==typeof t&&(t=String(t));const r=Array.isArray(t),o=\"string\"==typeof t,i=n.separator||\".\",a=n.joinChar||(\"string\"==typeof i?i:\".\");if(!o&&!r)return e;if(o&&t in e)return at(t,e,n)?e[t]:n.default;let s=r?t:function(e,t,n){if(\"function\"==typeof n.split)return n.split(e);return e.split(t)}(t,i,n),c=s.length,l=0;do{let t=s[l];for(\"number\"==typeof t&&(t=String(t));t&&\"\\\\\"===t.slice(-1);)t=it([t.slice(0,-1),s[++l]||\"\"],a,n);if(t in e){if(!at(t,e,n))return n.default;e=e[t]}else{let r=!1,o=l+1;for(;o<c;)if(t=it([t,s[o++]],a,n),r=t in e){if(!at(t,e,n))return n.default;e=e[t],l=o-1;break}if(!r)return n.default}}while(++l<c&&st(e));return l===c?e:n.default};function it(e,t,n){return\"function\"==typeof n.join?n.join(e):e[0]+t+e[1]}function at(e,t,n){return\"function\"!=typeof n.isValid||n.isValid(e,t)}function st(e){return rt(e)||Array.isArray(e)||\"function\"==typeof e}\n/*!\n\t * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n\t *\n\t * Copyright (c) 2014-2017, Jon Schlinkert.\n\t * Released under the MIT License.\n\t */var ct=nt;function lt(e){return!0===ct(e)&&\"[object Object]\"===Object.prototype.toString.call(e)}\n/*!\n\t * set-value <https://github.com/jonschlinkert/set-value>\n\t *\n\t * Copyright (c) 2014-2018, Jon Schlinkert.\n\t * Released under the MIT License.\n\t */\nconst ut=function(e){var t,n;return!1!==lt(e)&&(\"function\"==typeof(t=e.constructor)&&(!1!==lt(n=t.prototype)&&!1!==n.hasOwnProperty(\"isPrototypeOf\")))};function ft(e,t,n,r){if(!ht(e))return e;let o=r||{};const i=Array.isArray(t);if(!i&&\"string\"!=typeof t)return e;let a=o.merge;a&&\"function\"!=typeof a&&(a=Object.assign);const s=(i?t:function(e,t){const n=function(e,t){let n=e;if(void 0===t)return n+\"\";const r=Object.keys(t);for(let e=0;e<r.length;e++){const o=r[e];n+=\";\"+o+\"=\"+String(t[o])}return n}(e,t);if(ft.memo[n])return ft.memo[n];const r=t&&t.separator?t.separator:\".\";let o=[],i=[];o=t&&\"function\"==typeof t.split?t.split(e):e.split(r);for(let e=0;e<o.length;e++){let t=o[e];for(;t&&\"\\\\\"===t.slice(-1)&&o[e+1];)t=t.slice(0,-1)+r+o[++e];i.push(t)}return ft.memo[n]=i,i}(t,o)).filter(pt),c=s.length,l=e;if(!r&&1===s.length)return dt(e,s[0],n,a),e;for(let t=0;t<c;t++){let r=s[t];if(ht(e[r])||(e[r]={}),t===c-1){dt(e,r,n,a);break}e=e[r]}return l}function dt(e,t,n,r){r&&ut(e[t])&&ut(n)?e[t]=r({},e[t],n):e[t]=n}function pt(e){return\"__proto__\"!==e&&\"constructor\"!==e&&\"prototype\"!==e}function ht(e){return null!==e&&(\"object\"==typeof e||\"function\"==typeof e)}ft.memo={};var gt=ft,mt={}.toString,bt=Array.isArray||function(e){return\"[object Array]\"==mt.call(e)};function yt(e){return e?Array.isArray(e)?e.join(\".\"):e:\"\"}\n/*!\n\t * has-value <https://github.com/jonschlinkert/has-value>\n\t *\n\t * Copyright (c) 2014-2016, Jon Schlinkert.\n\t * Licensed under the MIT License.\n\t */var vt=function(e){return null!=e&&\"object\"==typeof e&&!1===bt(e)},wt=function(e,t){if(null==e)return!1;if(\"boolean\"==typeof e)return!0;if(\"number\"==typeof e)return 0!==e||!0!==t;if(void 0!==e.length)return 0!==e.length;for(var n in e)if(e.hasOwnProperty(n))return!0;return!1},kt=function(e,t,n,r,o){if(null===(i=e)||\"object\"!=typeof i&&\"function\"!=typeof i||!t)return e;var i;if(t=yt(t),n&&(t+=\".\"+yt(n)),r&&(t+=\".\"+yt(r)),o&&(t+=\".\"+yt(o)),t in e)return e[t];for(var a=t.split(\".\"),s=a.length,c=-1;e&&++c<s;){for(var l=a[c];\"\\\\\"===l[l.length-1];)l=l.slice(0,-1)+\".\"+a[++c];e=e[l]}return e},xt=nt,St=function(e,t,n){return vt(e)?wt(kt(e,t),n):wt(e,t)},_t={\"config.logger.show.parse\":!1,\"config.logger.show.render\":!1,\"config.logger.show.sound\":!1,\"config.logger.show.state\":!1,\"config.logger.show.story\":!1,\"config.logger.show.style\":!1};function Et(e){return e+\": \"}function At(e,t){rn(\"config.logger.show.\".concat(e))&&console.log(Et(e)+t),Xe.emit(\"log\",{source:e,message:t})}function Ot(e,t){console.warn(Et(e)+t),Xe.emit(\"log-warning\",{source:e,message:t})}function jt(e){return{log:function(t){At(e,t)},warn:function(t){Ot(e,t)}}}function Tt(e,t){return Array.from(e.querySelectorAll(t))}window.logger={log:At,warn:Ot};var zt=jt(\"story\"),Lt={customScripts:[],customStyles:[]},$t=[];function Ct(e){[\"name\",\"creator\",\"ifid\",\"options\"].forEach((function(t){return Lt[t]=e.getAttribute(t)})),Lt.startNode=parseInt(e.getAttribute(\"startnode\")),Lt.creatorVersion=e.getAttribute(\"creator-version\");var t=function(e){return e.map((function(e){return e.textContent}))};Lt.customScripts=t(Tt(e,'[type=\"text/twine-javascript\"]')),Lt.customStyles=t(Tt(e,'[type=\"text/twine-css\"]')),$t=Tt(e,\"tw-passagedata\").map((function(e){var t={id:parseInt(e.getAttribute(\"pid\")),name:e.getAttribute(\"name\"),source:e.textContent},n=e.getAttribute(\"tags\");return t.tags=n?n.split(\" \"):[],t}))}function qt(){tn(\"trail\",[Mt().name]),tn(\"config.testing\",\"string\"==typeof Lt.options&&-1!==Lt.options.indexOf(\"debug\")||!1),document.title=Lt.name}function It(){zt.log(\"Running custom scripts (\".concat(Lt.customScripts.length,\")\")),Lt.customScripts.forEach((function(e){new Function(e).apply(window)}))}function Rt(){zt.log(\"Adding custom styles (\".concat(Lt.customStyles.length,\")\")),Lt.customStyles.forEach((function(e){var t=document.createElement(\"style\");t.innerHTML=e,document.head.appendChild(t)}))}function Nt(){return Lt.ifid}function Dt(){return Lt.name}function Pt(){return $t}function Mt(){return $t.find((function(e){return e.id===Lt.startNode}))}function Ft(e){return $t.find((function(t){return t.name===e}))}var Ht,Ut=Object.freeze({__proto__:null,loadFromData:Ct,init:qt,runCustomScripts:It,addCustomStyles:Rt,ifid:Nt,name:Dt,exportedPassages:Pt,passages:Pt,startPassage:Mt,passageNamed:Ft,passageWithId:function(e){return $t.find((function(t){return t.id===e}))}}),Zt=jt(\"state\").log,Bt={},Gt={},Jt={},Yt={\"config.state.autosave\":!0};function Xt(e,t){if(!e[t]){Object.defineProperty(e,t,{get:function(){return rn(t)},set:function(e){en(t,e)},configurable:!0});var n=t.split(\".\");n.length>1&&(n.pop(),Xt(e,n.join(\".\")))}}function Vt(e,t){!function(e,t){if(!xt(e))throw new TypeError(\"expected an object.\");if(e.hasOwnProperty(t))return delete e[t],!0;if(St(e,t)){for(var n=t.split(\".\"),r=n.pop();n.length&&\"\\\\\"===n[n.length-1].slice(-1);)r=n.pop().slice(0,-1)+\".\"+r;for(;n.length;)e=e[t=n.shift()];return delete e[r]}}(e,t)}function Wt(){var e=Nt(),t=Dt();if(void 0===t)throw new Error(\"Cannot set up state: the story has no name\");Ht=\"chapbook-state-\".concat(t,\"-\").concat(e)}function Kt(){!function e(t,n){Object.keys(t).forEach((function(r){var o=\"\"===n?r:\"\".concat(n,\".\").concat(r);if(\"object\"!==Ve(t[r])||Array.isArray(t[r])){var i=t[r];delete t[r],Vt(window,n),Xe.emit(\"state-change\",{name:o,value:rn(o),previous:i})}else e(t[r],o)}))}(Bt,\"\"),Xe.emit(\"state-reset\"),rn(\"config.state.autosave\")&&cn()}function Qt(e,t){for(var n=e.split(\".\"),r=t.split(\".\"),o=0;o<n.length&&o<r.length;o++)if(n[o]!==r[o])return!1;return!0}function en(e,t){var n=rn(e);gt(Bt,e,t),Xt(window,e),t!==n&&Xe.emit(\"state-change\",{name:e,previous:n,value:t}),rn(\"config.state.autosave\")&&cn()}function tn(e,t){var n=rn(e);Zt('Defaulting \"'.concat(e,'\" to ').concat(JSON.stringify(t))),gt(Gt,e,t),Xt(window,e),null==n&&Xe.emit(\"state-change\",{name:e,value:t,previous:n})}function nn(e,t){var n=rn(e);Zt(\"Adding lookup variable \".concat(e)),gt(Jt,e,t),function(e,t){if(!e[t]){for(var n=t.split(\".\"),r=n[n.length-1],o=0;o<n.length-1;o++)e[n[o]]=e[n[o]]||{},e=e[n[o]];Object.defineProperty(e,r,{get:function(){return rn(t)},set:function(){throw new Error(\"Chapbook lookup variables may only be read.\")},configurable:!0})}}(window,e),null==n&&Xe.emit(\"state-change\",{name:e,value:rn(e),previous:n})}function rn(e){var t=ot(Jt,e);if(\"function\"==typeof t)return t(rn,en);var n=ot(Bt,e);return null==n?ot(Gt,e):n}function on(){return Object.assign({},Bt)}function an(e){Kt(),Object.keys(e).forEach((function(t){return en(t,e[t])}))}function sn(){try{return window.localStorage.setItem(\"chapbook-test\",\"a\"),window.localStorage.removeItem(\"chapbook-test\"),!0}catch(e){return!1}}function cn(){Zt(\"Saving to local storage: \"+JSON.stringify(on())),window.localStorage.setItem(Ht,JSON.stringify(on())),Zt(\"Save complete\")}function ln(){return sn()&&null!==window.localStorage.getItem(Ht)}function un(){Zt(\"Restoring variables from local storage\"),an(JSON.parse(window.localStorage.getItem(Ht))),Zt(\"Restore complete\")}function fn(e){e||Zt(\"Purging variables from local storage\"),an(JSON.parse(window.localStorage.getItem(Ht))),e||Zt(\"Purge complete\")}var dn=Object.freeze({__proto__:null,defaults:Yt,init:Wt,reset:Kt,sameObject:Qt,set:en,setDefault:tn,setLookup:nn,get:rn,saveToObject:on,restoreFromObject:an,canSaveToStorage:sn,saveToStorage:cn,canRestoreFromStorage:ln,restoreFromStorage:un,purgeFromStorage:fn,varNames:function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).reduce((function(r,o){if(\"object\"===Ve(e[o])&&e[o]&&!Array.isArray(e[o]))t(e[o],n?n+\".\"+o:o,r);else{var i=n?n+\".\"+o:o;-1===r.indexOf(i)&&r.push(i)}return r}),r)}return e?t(Gt,null,t(Bt,null)).sort():t(Bt).sort()}});function pn(e){At(\"actions\",e)}function hn(e){pn('Going to passage \"'.concat(e,'\"'));var t=Ft(e);if(!t)throw new Error('There is no passage with the name \"'.concat(e,'\"'));Tt(document,\"[data-cb-set]\").forEach((function(e){var t=e.dataset.set;switch(e.nodeName){case\"INPUT\":en(t,e.value);break;case\"SELECT\":en(t,e.options[e.selectedIndex].value);break;default:en(t,e.textContent)}})),en(\"trail\",rn(\"trail\").concat(t.name))}function gn(){pn(\"Restarting\"),Kt(),window.location.reload()}Xe.on(\"dom-click\",(function(e){var t,n;e.dataset.cbGo&&(t=document.querySelector(\"form#cb-validation\"),n=Tt(t,\"input, select\"),new Promise((function(e,r){var o=function e(){t.removeEventListener(\"submit\",i),n.forEach((function(t){return t.removeEventListener(\"invalid\",e)})),r()},i=function r(){t.removeEventListener(\"submit\",r),n.forEach((function(e){return e.removeEventListener(\"invalid\",o)})),e()};n.forEach((function(e){return e.addEventListener(\"invalid\",o)})),t.addEventListener(\"submit\",i),document.querySelector(\"button#cb-validation-tester\").click()}))).then((function(){return hn(e.dataset.cbGo)}))})),Xe.on(\"dom-click\",(function(e){e.dataset.cbRestart&&gn()}));var mn={match:/^(no )?ambient\\s+sound/i,render:function(e,t){var n=rn(\"sound.ambient\");if(n&&Object.keys(n).forEach((function(t){t!==e&&n[t].playing&&en(\"sound.ambient.\".concat(t,\".playing\"),!1)})),e){var r=rn(\"sound.ambient.\".concat(e,\".description\"))||\"\";return t.volume&&en(\"sound.ambient.\".concat(e,\".volume\"),t.volume),en(\"sound.ambient.\".concat(e,\".playing\"),!0),\"<audio>\".concat(r,\"</audio>\")}}};function bn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=document.createElement(e),o=0,i=Object.keys(t);o<i.length;o++){var a=i[o];void 0!==t[a]&&r.setAttribute(a,t[a])}var s,c=tt(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;\"string\"==typeof l||\"number\"==typeof l?r.appendChild(document.createTextNode(l.toString())):r.appendChild(l)}}catch(e){c.e(e)}finally{c.f()}return r}function yn(){return bn.apply(void 0,arguments).outerHTML}function vn(e,t){return/^\\w+:\\/\\/\\/?\\w/i.test(e)?yn(\"a\",{href:e},[t||e]):yn(\"a\",{href:\"javascript:void(0)\",\"data-cb-go\":e},[t||e])}function wn(e){return e.replace(/\\[\\[(.*?)\\]\\]/g,(function(e,t){var n=t,r=t.indexOf(\"|\");if(-1!==r)n=t.substr(0,r),t=t.substr(r+1);else{var o=t.indexOf(\"->\");if(-1!==o)n=t.substr(0,o),t=t.substr(o+2);else{var i=t.indexOf(\"<-\");-1!==i&&(n=t.substr(i+2),t=t.substr(0,i))}}return vn(t,n||t)}))}var kn={match:/^back\\s+link/i,render:function(e,t){var n=rn(\"trail\");return vn(n.length>1?n[n.length-2]:n[0],t.label||\"Back\")}};var xn=function(e,t,n){n=Object.assign({},Sn,n||{});let r=0,o=function(e){let t={ms:.001,s:1,m:60,h:3600};return t.d=e.hoursPerDay*t.h,t.w=e.daysPerWeek*t.d,t.mth=e.daysPerYear/e.monthsPerYear*t.d,t.y=e.daysPerYear*t.d,t}(n),i=e.toLowerCase().replace(/[^.\\w+-]+/g,\"\").match(/[-+]?[0-9.]+[a-z]+/g);null!==i&&i.forEach((e=>{let t=e.match(/[0-9.]+/g)[0],n=e.match(/[a-z]+/g)[0];r+=function(e,t,n){return e*n[En(t)]}(t,n,o)}));if(t)return function(e,t,n){return e/n[En(t)]}(r,t,o);return r};const Sn={hoursPerDay:24,daysPerWeek:7,weeksPerMonth:4,monthsPerYear:12,daysPerYear:365.25},_n={ms:[\"ms\",\"milli\",\"millisecond\",\"milliseconds\"],s:[\"s\",\"sec\",\"secs\",\"second\",\"seconds\"],m:[\"m\",\"min\",\"mins\",\"minute\",\"minutes\"],h:[\"h\",\"hr\",\"hrs\",\"hour\",\"hours\"],d:[\"d\",\"day\",\"days\"],w:[\"w\",\"week\",\"weeks\"],mth:[\"mon\",\"mth\",\"mths\",\"month\",\"months\"],y:[\"y\",\"yr\",\"yrs\",\"year\",\"years\"]};function En(e){for(let t of Object.keys(_n))if(_n[t].indexOf(e)>-1)return t;throw new Error(`The unit [${e}] is not supported by timestring`)}function An(e){\"static\"===window.getComputedStyle(e).position&&(e.style.position=\"relative\")}function On(e){var t=document.createElement(e.nodeName.toLowerCase());return t.innerHTML=e.innerHTML,t.style.width=e.clientWidth+\"px\",t.style.height=e.clientHeight+\"px\",t.setAttribute(\"aria-hidden\",!0),t.style.pointerEvents=\"none\",Tt(t,\"audio\").forEach((function(e){return e.parentNode.removeChild(e)})),t}function jn(e){try{var t=\"\";t=(t=e.error&&e.error.stack?e.message+\"\\n\\nStack trace:\\n\"+e.error.stack:e.message+\"\\n\\n[No stack trace available]\").replace(\"\\nPlease report this to https://github.com/chjj/marked.\",\"\");var n=document.createElement(\"div\"),r=document.querySelector(\"#page article\"),o=rn(\"trail\");n.className=\"error\",n.innerHTML=\"\\n\\t\\t\\t<p>\\n\\t\\t\\tAn unexpected error has occurred.\\n\\t\\t\\t</p>\\n\\t\\t\\t<pre>\".concat(rn(\"config.testing\")?t:\"\",'</pre>\\n\\t\\t\\t<ul>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<a href=\"javascript:void(0)\" ').concat(o.length>1?\"data-cb-back\":\"data-cb-refresh\",'>Go back</a> to the previous passage.\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<a href=\"javascript:void(0)\" data-cb-hard-restart>Hard restart</a>, clearing all progress and beginning from the start.\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t'),n.addEventListener(\"click\",(function(e){if(e.target.closest(\"[data-cb-back]\")){var t=rn(\"trail\");Array.isArray(t)?en(\"trail\",t.slice(0,t.length-1)):window.alert(\"Sorry, going back was not successful. Please try hard restarting.\")}else{if(e.target.closest(\"[data-cb-refresh]\"))en(\"trail\",Ke(rn(\"trail\")));else e.target.closest(\"[data-cb-hard-restart]\")&&(fn(!0),window.location.reload())}})),r.innerHTML=\"\",r.appendChild(n)}catch(e){console.error(e)}}var Tn=\"[object Symbol]\",zn=/[&<>\"'`]/g,Ln=RegExp(zn.source),$n=\"object\"==typeof r&&r&&r.Object===Object&&r,Cn=\"object\"==typeof self&&self&&self.Object===Object&&self,qn=$n||Cn||Function(\"return this\")();var In,Rn=(In={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"`\":\"&#96;\"},function(e){return null==In?void 0:In[e]}),Nn=Object.prototype.toString,Dn=qn.Symbol,Pn=Dn?Dn.prototype:void 0,Mn=Pn?Pn.toString:void 0;function Fn(e){if(\"string\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&Nn.call(e)==Tn}(e))return Mn?Mn.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-Infinity?\"-0\":t}var Hn,Un,Zn,Bn=function(e){var t;return(e=null==(t=e)?\"\":Fn(t))&&Ln.test(e)?e.replace(zn,Rn):e};var Gn={crossfade:function(e,t,n){return new Promise((function(r){var o=e.style.pointerEvents,i=xn(n,\"s\");An(e),e.style.pointerEvents=\"none\";var a=document.createElement(\"div\");if(a.innerHTML=t,a.className=\"fade-in\",a.style.animationDuration=i+\"s\",a.addEventListener(\"animationend\",(function t(){a.removeEventListener(\"animationend\",t),a.style.animationDuration=null,a.className=\"\",e.style.pointerEvents=o,r()})),\"\"!==e.innerHTML.trim()){var s=On(e);s.style.position=\"absolute\",s.style.top=\"0\",s.style.left=\"0\",s.className=\"fade-out\",s.style.animationDuration=i+\"s\",s.addEventListener(\"animationend\",(function e(){s.removeEventListener(\"animationend\",e),s.style.opacity=.5,s.parentNode.removeChild(s)})),e.innerHTML=\"\",e.appendChild(a),e.appendChild(s)}else e.innerHTML=\"\",e.appendChild(a)}))},fadeInOut:function(e,t,n){return new Promise((function(r){var o=e.style.pointerEvents,i=xn(n,\"s\")/2;An(e),e.style.pointerEvents=\"none\";var a=document.createElement(\"div\");if(a.innerHTML=t,a.style.visibility=\"hidden\",a.style.animationDuration=i+\"s\",a.addEventListener(\"animationend\",(function t(){a.removeEventListener(\"animationend\",t),a.className=\"\",a.style.animationDuration=i+\"s\",e.style.pointerEvents=o,r()})),\"\"!==e.innerHTML.trim()){var s=On(e);s.style.position=\"absolute\",s.style.top=\"0\",s.style.left=\"0\",s.className=\"fade-out\",s.style.animationDuration=i+\"s\",s.addEventListener(\"animationend\",(function e(){s.removeEventListener(\"animationend\",e),s.parentNode.removeChild(s),a.style.visibility=\"visible\",a.className=\"fade-in\"})),e.innerHTML=\"\",e.appendChild(a),e.appendChild(s)}else a.className=\"fade-in\",a.animationDuration=2*i,a.style.visibility=\"visible\",a.className=\"fade-in\",e.appendChild(a)}))},none:function(e,t){return new Promise((function(n){e.innerHTML=\"<div>\".concat(t,\"</div>\"),n()}))}},Jn={\"config.body.transition.name\":\"crossfade\",\"config.body.transition.duration\":\"500ms\",\"config.header.left\":\"\",\"config.header.center\":\"\",\"config.header.right\":\"\",\"config.header.transition.name\":\"none\",\"config.header.transition.duration\":\"500ms\",\"config.footer.left\":\"_{story.name}_\",\"config.footer.center\":\"\",\"config.footer.right\":\"{restart link}\",\"config.footer.transition.name\":\"none\",\"config.footer.transition.duration\":\"500ms\"};function Yn(e,t,n,r){Gn[n]?Gn[n](e,t,r):Gn.none(e,t)}var Xn,Vn,Wn,Kn=(Xn=function(e){if(e.some((function(e){return e[0]}))){var t=rn(\"trail\"),n=Ft(t[t.length-1]);if(!n)throw new Error('There is no passage named \"'.concat(t[t.length-1],'\".'));window.scrollTo(0,0),Yn(Hn,ri(n.source),rn(\"config.body.transition.name\"),rn(\"config.body.transition.duration\")),function(e,t){var n,r=Date.now(),o=Tt(e,\"[data-cb-skippable]\").map((function(e){return{el:e,delay:1e3*xn(window.getComputedStyle(e).animationDelay)}})).sort((function(e,t){return e.delay-t.delay}));function i(){var e=Date.now()-r,t=Object.assign({},o.find((function(t){return t.delay>e})));t?(o.forEach((function(e){e.delay<=t.delay?(e.delay=0,e.el.classList.add(\"skip-animation\")):(e.delay-=t.delay,e.el.style.animationDelay=\"\".concat(e.delay,\"ms\"))})),r=Date.now(),window.clearTimeout(n),a()):s()}function a(){n&&window.clearTimeout(n),n=window.setTimeout(s,o[o.length-1].delay)}function s(){t.classList.remove(\"visible\"),document.body.removeEventListener(\"click\",i),document.body.removeEventListener(\"keyup\",i)}0!==o.length&&(t.classList.add(\"visible\"),a(),window.setTimeout((function(){document.body.addEventListener(\"click\",i),document.body.addEventListener(\"keyup\",i)}),50))}(Hn,Zn)}[\"header\",\"footer\"].forEach((function(e){Un[e].container.classList.remove(\"has-content\"),[\"left\",\"center\",\"right\"].forEach((function(t){var n=ri(rn(\"config.\".concat(e,\".\").concat(t)));\"\"!==n&&Un[e].container.classList.add(\"has-content\"),Yn(Un[e][t],n,rn(\"config.\".concat(e,\".transition.name\")),rn(\"config.\".concat(e,\".transition.duration\")))}))}))},Vn=[],Wn=!1,function(){Wn||(Wn=!0,Promise.resolve().then((function(){try{Xn(Vn)}catch(e){window.setTimeout((function(){throw e}),0)}Vn=[],Wn=!1})));for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Vn.push(t)});function Qn(e){Tt(Hn,\"input\").forEach((function(e){e.setAttribute(\"value\",e.value)})),Tt(Hn,\"select\").forEach((function(e){for(var t=0;t<e.options.length;t++)t===e.options.selectedIndex?e.options[t].setAttribute(\"selected\",\"\"):e.options[t].removeAttribute(\"selected\")}));for(var t={x:window.scrollX,y:window.scrollY},n=Hn.innerHTML,r=document.createElement(\"div\");Hn.firstChild;)r.insertBefore(Hn.firstChild,r.firstChild);Hn.innerHTML=n,e(r),window.scrollX=t.x,window.scrollY=t.y,Yn(Hn,r.innerHTML,rn(\"config.body.transition.name\"),rn(\"config.body.transition.duration\"))}var er={match:/^cycling\\s+link(\\s+for)?/i,render:function(e,t){var n;return e?void 0===(n=rn(e))&&(en(e,t.choices[0]),n=t.choices[0]):n=t.choices[0],yn(\"a\",{href:\"javascript:void(0)\",\"data-cb-cycle-set\":null!=e?e:void 0,\"data-cb-cycle-choices\":JSON.stringify(t.choices)},[n])}};Xe.on(\"dom-click\",(function(e){if(e.dataset.cbCycleChoices){var t=JSON.parse(e.dataset.cbCycleChoices),n=t.map((function(e){return\"string\"==typeof e?e:e.toString()})).indexOf(e.textContent)+1;n===t.length&&(n=0),Qn((function(){return e.textContent=t[n]})),e.dataset.cbCycleSet&&en(e.dataset.cbCycleSet,t[n])}}));var tr={match:/^embed\\s+flickr(\\s+image)?/i,render:function(e,t){return yn(\"img\",Object.assign({},t,{src:/img src=\"(.+?)\"/.exec(e)[1]}))}},nr={match:/^embed\\s+image?/i,render:function(e,t){return yn(\"img\",Object.assign({},t,{src:e}))}},rr={match:/^embed\\s+passage(\\s+named)?/i,render:function(e){return ri(Ft(e).source)}},or={match:/^embed\\s+unsplash(\\s+image)?/i,render:function(e,t){return yn(\"img\",Object.assign({},t,{src:\"https://source.unsplash.com/\".concat(e.replace(/.*\\//,\"\"),\"/\").concat(t.width,\"x\").concat(t.height)}))}},ir={match:/^embed\\s+youtube(\\s+video)?/i,render:function(e,t){var n=\"https://www.youtube-nocookie.com/embed/\".concat(e.replace(/.*\\?v=/,\"\"),\"?modestbranding=1&rel=0&controls=\").concat(t.controls?1:0,\"&\");return t.autoplay&&(n+=\"autoplay=1&\"),t.loop&&(n+=\"loop=1&\"),yn(\"div\",{style:\"position: relative; height: 0; padding-bottom: 56.25%; margin-bottom: 1em\"},[bn(\"iframe\",{src:n,frameBorder:0,style:\"position: absolute; top: 0; left: 0; width: 100%; height: 100%\"})])}},ar={match:/^link\\s+to/i,render:function(e,t){return vn(e,t.label)}},sr={match:/^dropdown menu(\\s+for)?/i,render:function(e,t){var n;return e&&void 0===(n=rn(e))&&(en(e,t.choices[0]),n=t.choices[0]),yn(\"select\",{\"data-cb-menu-choices\":JSON.stringify(t.choices),\"data-cb-menu-set\":null!=e?e:void 0},t.choices.map((function(t){var r={value:t};return e&&n===t&&(r.selected=\"\"),bn(\"option\",r,[t])})))}};Xe.on(\"dom-change\",(function(e){if(e.dataset.cbMenuSet){var t=JSON.parse(e.dataset.cbMenuChoices),n=e.querySelectorAll(\"option\")[e.selectedIndex].value,r=t.map((function(e){return\"string\"==typeof e?e:e.toString()})).findIndex((function(e){return e===n}));-1!==r&&en(e.dataset.cbMenuSet,t[r])}}));var cr={match:/^restart\\s+link/i,render:function(e,t){return yn(\"a\",{href:\"javascript:void(0)\",\"data-cb-restart\":!0},[t.label||\"Restart\"])}},lr={match:/^reveal\\s+link/i,render:function(e,t){return t.text?yn(\"a\",{href:\"javascript:void(0)\",\"data-cb-reveal-text\":t.text},[e]):t.passage?yn(\"a\",{href:\"javascript:void(0)\",\"data-cb-reveal-passage\":t.passage},[e]):void 0}};Xe.on(\"dom-click\",(function(e){var t=e.dataset.cbRevealText;if(e.dataset.cbRevealPassage&&(t=Ft(e.dataset.cbRevealPassage).source),t){var n=document.createElement(\"div\");n.innerHTML=ri(t).trim(),Qn((function(){var t=n.children.length;if(t>0){var r=document.createElement(\"span\");if(r.innerHTML=n.firstChild.innerHTML,e.parentNode.insertBefore(r,e),n.removeChild(n.firstChild),t>1){for(var o=n.lastChild;n.lastChild;)e.parentNode.parentNode.insertBefore(n.lastChild,e.parentNode.nextSibling);for(;e.nextSibling;)o.insertBefore(e.nextSibling,null)}}e.parentNode.removeChild(e)}))}}));var ur={match:/^sound\\s+effect/i,render:function(e,t){var n=rn(\"sound.effect.\".concat(e,\".description\"))||\"\";return t.volume&&en(\"sound.effect.\".concat(e,\".volume\"),t.volume),en(\"sound.effect.\".concat(e,\".playing\"),!0),\"<audio>\".concat(n,\"</audio>\")}},fr={match:/^text\\s+input(\\s+for)?/i,render:function(e,t){return yn(\"input\",{type:\"text\",value:e?rn(e):\"\",\"data-cb-text-field-set\":e||void 0,required:!1!==t.required?\"\":void 0})}};Xe.on(\"dom-change\",(function(e){e.dataset.cbTextFieldSet&&en(e.dataset.cbTextFieldSet,e.value)}));var dr=[mn,kn,er,tr,nr,rr,or,ir,ar,sr,cr,lr,ur,fr],pr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=\"<span\"+Object.keys(t).reduce((function(e,n){return e+\" \".concat(n,'=\"').concat(t[n],'\"')}),\"\")+\">\",r=n+e.replace(/[\\r\\n]{2,}/g,\"</span>$&\".concat(n))+\"</span>\";return r=r.replace(/(<span.*?>)\\s*(#+)/gi,\"$2 $1\")},hr={match:/^after\\s/i,process:function(e,t){var n=t.invocation,r=xn(n.replace(/^after\\s/i,\"\"),\"ms\");e.text=pr(e.text,{\"data-cb-skippable\":\"\",class:\"fade-in\",style:\"animation-delay: \".concat(r,\"ms\")})}},gr={match:/^align\\s+(left|right|center)/i,process:function(e,t){var n=t.invocation.replace(/^align\\s+/i,\"\");e.text=pr(e.text,{style:\"display: block; text-align: \".concat(n)})}},mr={match:/^if(always|never)?\\s|else$|unless\\s/i,processRaw:function(e,t){var n,r=t.invocation,o=t.state,i=r.replace(/\\s.*/,\"\").toLowerCase();switch(\"else\"!==i&&(n=new Function(\"return \"+r.replace(/.*?\\s/,\"\"))),i){case\"if\":o.conditionEval=n.apply(window);break;case\"ifalways\":o.conditionEval=!0;break;case\"ifnever\":o.conditionEval=!1;break;case\"unless\":o.conditionEval=!n.apply(window);break;case\"else\":if(void 0===o.conditionEval)throw new Error(\"There was no matching if modifier for an else modifier.\");o.conditionEval=!o.conditionEval}o.conditionEval||(e.text=\"\")}},br=\"[object Symbol]\",yr=/&(?:amp|lt|gt|quot|#39|#96);/g,vr=RegExp(yr.source),wr=\"object\"==typeof r&&r&&r.Object===Object&&r,kr=\"object\"==typeof self&&self&&self.Object===Object&&self,xr=wr||kr||Function(\"return this\")();var Sr=function(e){return function(t){return null==e?void 0:e[t]}}({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\",\"&#96;\":\"`\"}),_r=Object.prototype.toString,Er=xr.Symbol,Ar=Er?Er.prototype:void 0,Or=Ar?Ar.toString:void 0;function jr(e){if(\"string\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&_r.call(e)==br}(e))return Or?Or.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-Infinity?\"-0\":t}var Tr=function(e){var t;return(e=null==(t=e)?\"\":jr(t))&&vr.test(e)?e.replace(yr,Sr):e},zr={match:/^javascript$/i,process:function(e){try{var t=new Function(\"\\n\\t\\t\\t\\t\\t\\tfunction write() { write.__out += write.__join.call(arguments, ''); }\\n\\t\\t\\t\\t\\t\\twrite.__out = '';\\n\\t\\t\\t\\t\\t\\twrite.__join = Array.prototype.join;\\n\\t\\t\\t\\t\\t\\t\".concat(Tr(e.text),\";\\n\\t\\t\\t\\t\\t\\treturn write.__out;\\n\\t\\t\\t\\t\\t\"));e.text=t.apply(window)}catch(t){if(!rn(\"config.testing\"))throw t;var n=\"unknown error\";n=t.error&&t.error.stack?t.error.stack:t.message+\"\\n[No stack trace available]\",e.text='<div class=\"error\">An error occured evaluating:<pre>'.concat(e.text,\"</pre><p><pre>\").concat(n,\"</pre></p></div>\")}}},Lr=[hr,gr,{match:/^append$/i,process:function(e){e.startsNewParagraph=!1}},mr,{match:/^continued?|cont('d)?$/i,process:function(){}},{match:/^css$/i,process:function(e){e.text=\"<style>\".concat(e.text,\"</style>\")}},zr,{match:/^(note(\\s+to\\s+self)?|n?b?|todo|fixme)$/i,process:function(e){e.text=\"\"}}],$r=function(e,t){if(\"string\"!=typeof e)throw new TypeError(\"Expected a string in the first argument, got \"+typeof e);if(!(t&&t.preserveNewlines))return e.split(/\\r?\\n/);for(var n=e.split(/(\\r?\\n)/),r=[],o=0;o<n.length;o+=2)r.push(n[o]+(n[o+1]||\"\"));return r},Cr=jt(\"parse\"),qr=Cr.log,Ir=Cr.warn,Rr={varsSep:/^--$/m,modifierPattern:/^\\[([^[].+[^\\]])\\]$/gm};function Nr(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rr,o={vars:[],blocks:[]},i=e.split(r.varsSep,2);if(2===i.length){qr(\"Detected vars section\");var a=We(i,2);t=a[0],n=a[1],$r(t).forEach((function(e){if(\"\"!==e.trim()){var t=e.indexOf(\":\");if(-1!==t){var n=e.substr(0,t).trim(),r=e.substr(t+1).trim(),i={name:n,value:new Function(\"return (\".concat(r,\")\"))},a=n.match(/\\(.+\\)/);a?(i.condition=new Function(\"return (\".concat(a[0],\")\")),i.name=(i.name.substr(0,a.index)+i.name.substr(a.index+a[0].length)).trim(),qr('Setting variable \"'.concat(i.name,'\" to \"').concat(r,'\" with condition (').concat(a[0],\")\"))):qr('Setting variable \"'.concat(n,'\" to \"').concat(r,'\" without condition')),o.vars.push(i)}else Ir('The line \"'.concat(e,'\" in the vars section is missing a colon. It was ignored.'))}}))}else qr(\"No vars section detected\"),n=i[0];for(var s=function(e,t){var n=t.trim();\"\"!==n&&(qr(\"Creating '\".concat(e,\"' block with content: \\\"\").concat(n,'\"')),o.blocks.push({type:e,content:n}))},c=new RegExp(r.modifierPattern),l=0,u=c.exec(n);u;){s(\"text\",n.substring(l,u.index));for(var f=u[1],d=\"\",p=0;p<f.length;p++)switch(f[p]){case'\"':for(d+='\"',p+=1;p<f.length&&(d+=f[p],'\"'!==f[p]||\"\\\\\"===f[p-1]);p++);break;case\";\":s(\"modifier\",d),d=\"\";break;default:d+=f[p]}s(\"modifier\",d),l=c.lastIndex,u=c.exec(n)}return s(\"text\",n.substring(l)),o}var Dr={exports:{}};function Pr(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:\"\",highlight:null,langPrefix:\"language-\",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Dr.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:\"\",highlight:null,langPrefix:\"language-\",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:Pr,changeDefaults:function(e){Dr.exports.defaults=e}};const Mr=/[&<>\"']/,Fr=/[&<>\"']/g,Hr=/[<>\"']|&(?!#?\\w+;)/,Ur=/[<>\"']|&(?!#?\\w+;)/g,Zr={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},Br=e=>Zr[e];const Gr=/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/gi;function Jr(e){return e.replace(Gr,((e,t)=>\"colon\"===(t=t.toLowerCase())?\":\":\"#\"===t.charAt(0)?\"x\"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):\"\"))}const Yr=/(^|[^\\[])\\^/g;const Xr=/[^\\w:]/g,Vr=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const Wr={},Kr=/^[^:]+:\\/*[^/]*$/,Qr=/^([^:]+:)[\\s\\S]*$/,eo=/^([^:]+:\\/*[^/]*)[\\s\\S]*$/;function to(e,t){Wr[\" \"+e]||(Kr.test(e)?Wr[\" \"+e]=e+\"/\":Wr[\" \"+e]=no(e,\"/\",!0));const n=-1===(e=Wr[\" \"+e]).indexOf(\":\");return\"//\"===t.substring(0,2)?n?t:e.replace(Qr,\"$1\")+t:\"/\"===t.charAt(0)?n?t:e.replace(eo,\"$1\")+t:e+t}function no(e,t,n){const r=e.length;if(0===r)return\"\";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.substr(0,r-o)}var ro={escape:function(e,t){if(t){if(Mr.test(e))return e.replace(Fr,Br)}else if(Hr.test(e))return e.replace(Ur,Br);return e},unescape:Jr,edit:function(e,t){e=e.source||e,t=t||\"\";const n={replace:(t,r)=>(r=(r=r.source||r).replace(Yr,\"$1\"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(Jr(n)).replace(Xr,\"\").toLowerCase()}catch(e){return null}if(0===e.indexOf(\"javascript:\")||0===e.indexOf(\"vbscript:\")||0===e.indexOf(\"data:\"))return null}t&&!Vr.test(n)&&(n=to(t,n));try{n=encodeURI(n).replace(/%25/g,\"%\")}catch(e){return null}return n},resolveUrl:to,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&\"\\\\\"===n[o];)r=!r;return r?\"|\":\" |\"})).split(/ \\|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push(\"\");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\\\\|/g,\"|\");return n},rtrim:no,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,o=0;for(;o<n;o++)if(\"\\\\\"===e[o])o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&(r--,r<0))return o;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn(\"marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options\")},repeatString:function(e,t){if(t<1)return\"\";let n=\"\";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}};const{defaults:oo}=Dr.exports,{rtrim:io,splitCells:ao,escape:so,findClosingBracket:co}=ro;function lo(e,t,n){const r=t.href,o=t.title?so(t.title):null,i=e[1].replace(/\\\\([\\[\\]])/g,\"$1\");return\"!\"!==e[0].charAt(0)?{type:\"link\",raw:n,href:r,title:o,text:i}:{type:\"image\",raw:n,href:r,title:o,text:so(i)}}var uo=class{constructor(e){this.options=e||oo}space(e){const t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:\"space\",raw:t[0]}:{raw:\"\\n\"}}code(e,t){const n=this.rules.block.code.exec(e);if(n){const e=t[t.length-1];if(e&&\"paragraph\"===e.type)return{raw:n[0],text:n[0].trimRight()};const r=n[0].replace(/^ {4}/gm,\"\");return{type:\"code\",raw:n[0],codeBlockStyle:\"indented\",text:this.options.pedantic?r:io(r,\"\\n\")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split(\"\\n\").map((e=>{const t=e.match(/^\\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join(\"\\n\")}(e,t[3]||\"\");return{type:\"code\",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=io(e,\"#\");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:\"heading\",raw:t[0],depth:t[1].length,text:e}}}nptable(e){const t=this.rules.block.nptable.exec(e);if(t){const e={type:\"table\",header:ao(t[1].replace(/^ *| *\\| *$/g,\"\")),align:t[2].replace(/^ *|\\| *$/g,\"\").split(/ *\\| */),cells:t[3]?t[3].replace(/\\n$/,\"\").split(\"\\n\"):[],raw:t[0]};if(e.header.length===e.align.length){let t,n=e.align.length;for(t=0;t<n;t++)/^ *-+: *$/.test(e.align[t])?e.align[t]=\"right\":/^ *:-+: *$/.test(e.align[t])?e.align[t]=\"center\":/^ *:-+ *$/.test(e.align[t])?e.align[t]=\"left\":e.align[t]=null;for(n=e.cells.length,t=0;t<n;t++)e.cells[t]=ao(e.cells[t],e.header.length);return e}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:\"hr\",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,\"\");return{type:\"blockquote\",raw:t[0],text:e}}}list(e){const t=this.rules.block.list.exec(e);if(t){let e=t[0];const n=t[2],r=n.length>1,o={type:\"list\",raw:e,ordered:r,start:r?+n.slice(0,-1):\"\",loose:!1,items:[]},i=t[0].match(this.rules.block.item);let a,s,c,l,u,f,d,p,h=!1,g=i.length;c=this.rules.block.listItemStart.exec(i[0]);for(let t=0;t<g;t++){if(a=i[t],e=a,t!==g-1){if(l=this.rules.block.listItemStart.exec(i[t+1]),l[1].length>c[0].length||l[1].length>3){i.splice(t,2,i[t]+\"\\n\"+i[t+1]),t--,g--;continue}(!this.options.pedantic||this.options.smartLists?l[2][l[2].length-1]!==n[n.length-1]:r===(1===l[2].length))&&(u=i.slice(t+1).join(\"\\n\"),o.raw=o.raw.substring(0,o.raw.length-u.length),t=g-1),c=l}s=a.length,a=a.replace(/^ *([*+-]|\\d+[.)]) ?/,\"\"),~a.indexOf(\"\\n \")&&(s-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,\"\"):a.replace(new RegExp(\"^ {1,\"+s+\"}\",\"gm\"),\"\")),f=h||/\\n\\n(?!\\s*$)/.test(a),t!==g-1&&(h=\"\\n\"===a.charAt(a.length-1),f||(f=h)),f&&(o.loose=!0),this.options.gfm&&(d=/^\\[[ xX]\\] /.test(a),p=void 0,d&&(p=\" \"!==a[1],a=a.replace(/^\\[[ xX]\\] +/,\"\"))),o.items.push({type:\"list_item\",raw:e,task:d,checked:p,loose:f,text:a})}return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?\"paragraph\":\"html\",raw:t[0],pre:!this.options.sanitizer&&(\"pre\"===t[1]||\"script\"===t[1]||\"style\"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):so(t[0]):t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{tag:t[1].toLowerCase().replace(/\\s+/g,\" \"),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:\"table\",header:ao(t[1].replace(/^ *| *\\| *$/g,\"\")),align:t[2].replace(/^ *|\\| *$/g,\"\").split(/ *\\| */),cells:t[3]?t[3].replace(/\\n$/,\"\").split(\"\\n\"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r=e.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]=\"right\":/^ *:-+: *$/.test(e.align[n])?e.align[n]=\"center\":/^ *:-+ *$/.test(e.align[n])?e.align[n]=\"left\":e.align[n]=null;for(r=e.cells.length,n=0;n<r;n++)e.cells[n]=ao(e.cells[n].replace(/^ *\\| *| *\\| *$/g,\"\"),e.header.length);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:\"heading\",raw:t[0],depth:\"=\"===t[2].charAt(0)?1:2,text:t[1]}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t)return{type:\"paragraph\",raw:t[0],text:\"\\n\"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}}text(e,t){const n=this.rules.block.text.exec(e);if(n){const e=t[t.length-1];return e&&\"text\"===e.type?{raw:n[0],text:n[0]}:{type:\"text\",raw:n[0],text:n[0]}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:\"escape\",raw:t[0],text:so(t[1])}}tag(e,t,n){const r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\\s|>)/i.test(r[0])?n=!0:n&&/^<\\/(pre|code|kbd|script)(\\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?\"text\":\"html\",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):so(r[0]):r[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=io(e.slice(0,-1),\"\\\\\");if((e.length-t.length)%2==0)return}else{const e=co(t[2],\"()\");if(e>-1){const n=(0===t[0].indexOf(\"!\")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=\"\"}}let n=t[2],r=\"\";if(this.options.pedantic){const e=/^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):\"\";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),lo(t,{href:n?n.replace(this.rules.inline._escapes,\"$1\"):n,title:r?r.replace(this.rules.inline._escapes,\"$1\"):r},t[0])}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\\s+/g,\" \");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:\"text\",raw:e,text:e}}return lo(n,e,n[0])}}strong(e,t,n=\"\"){let r=this.rules.inline.strong.start.exec(e);if(r&&(!r[1]||r[1]&&(\"\"===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);const n=\"**\"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;let o;for(n.lastIndex=0;null!=(r=n.exec(t));)if(o=this.rules.inline.strong.middle.exec(t.slice(0,r.index+3)),o)return{type:\"strong\",raw:e.slice(0,o[0].length),text:e.slice(2,o[0].length-2)}}}em(e,t,n=\"\"){let r=this.rules.inline.em.start.exec(e);if(r&&(!r[1]||r[1]&&(\"\"===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);const n=\"*\"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;let o;for(n.lastIndex=0;null!=(r=n.exec(t));)if(o=this.rules.inline.em.middle.exec(t.slice(0,r.index+2)),o)return{type:\"em\",raw:e.slice(0,o[0].length),text:e.slice(1,o[0].length-1)}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\\n/g,\" \");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=so(e,!0),{type:\"codespan\",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:\"br\",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:\"del\",raw:t[0],text:t[2]}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return\"@\"===n[2]?(e=so(this.options.mangle?t(n[1]):n[1]),r=\"mailto:\"+e):(e=so(n[1]),r=e),{type:\"link\",raw:n[0],text:e,href:r,tokens:[{type:\"text\",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if(\"@\"===n[2])e=so(this.options.mangle?t(n[0]):n[0]),r=\"mailto:\"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=so(n[0]),r=\"www.\"===n[1]?\"http://\"+e:e}return{type:\"link\",raw:n[0],text:e,href:r,tokens:[{type:\"text\",raw:e,text:e}]}}}inlineText(e,t,n){const r=this.rules.inline.text.exec(e);if(r){let e;return e=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):so(r[0]):r[0]:so(this.options.smartypants?n(r[0]):r[0]),{type:\"text\",raw:r[0],text:e}}}};const{noopTest:fo,edit:po,merge:ho}=ro,go={newline:/^\\n+/,code:/^( {4}[^\\n]+\\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,list:/^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?! {0,3}bull )\\n*|\\s*$)/,html:\"^ {0,3}(?:<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$))\",def:/^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,nptable:fo,table:fo,lheading:/^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,_paragraph:/^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,text:/^[^\\n]+/,_label:/(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/,_title:/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/};go.def=po(go.def).replace(\"label\",go._label).replace(\"title\",go._title).getRegex(),go.bullet=/(?:[*+-]|\\d{1,9}[.)])/,go.item=/^( *)(bull) ?[^\\n]*(?:\\n(?! *bull ?)[^\\n]*)*/,go.item=po(go.item,\"gm\").replace(/bull/g,go.bullet).getRegex(),go.listItemStart=po(/^( *)(bull)/).replace(\"bull\",go.bullet).getRegex(),go.list=po(go.list).replace(/bull/g,go.bullet).replace(\"hr\",\"\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))\").replace(\"def\",\"\\\\n+(?=\"+go.def.source+\")\").getRegex(),go._tag=\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",go._comment=/<!--(?!-?>)[\\s\\S]*?(?:-->|$)/,go.html=po(go.html,\"i\").replace(\"comment\",go._comment).replace(\"tag\",go._tag).replace(\"attribute\",/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex(),go.paragraph=po(go._paragraph).replace(\"hr\",go.hr).replace(\"heading\",\" {0,3}#{1,6} \").replace(\"|lheading\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)\").replace(\"tag\",go._tag).getRegex(),go.blockquote=po(go.blockquote).replace(\"paragraph\",go.paragraph).getRegex(),go.normal=ho({},go),go.gfm=ho({},go.normal,{nptable:\"^ *([^|\\\\n ].*\\\\|.*)\\\\n {0,3}([-:]+ *\\\\|[-| :]*)(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\",table:\"^ *\\\\|(.+)\\\\n {0,3}\\\\|?( *[-:]+[-| :]*)(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\"}),go.gfm.nptable=po(go.gfm.nptable).replace(\"hr\",go.hr).replace(\"heading\",\" {0,3}#{1,6} \").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\" {4}[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)\").replace(\"tag\",go._tag).getRegex(),go.gfm.table=po(go.gfm.table).replace(\"hr\",go.hr).replace(\"heading\",\" {0,3}#{1,6} \").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\" {4}[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)\").replace(\"tag\",go._tag).getRegex(),go.pedantic=ho({},go.normal,{html:po(\"^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\\\"[^\\\"]*\\\"|'[^']*'|\\\\s[^'\\\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))\").replace(\"comment\",go._comment).replace(/tag/g,\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\").getRegex(),def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,heading:/^(#{1,6})(.*)(?:\\n+|$)/,fences:fo,paragraph:po(go.normal._paragraph).replace(\"hr\",go.hr).replace(\"heading\",\" *#{1,6} *[^\\n]\").replace(\"lheading\",go.lheading).replace(\"blockquote\",\" {0,3}>\").replace(\"|fences\",\"\").replace(\"|list\",\"\").replace(\"|html\",\"\").getRegex()});const mo={escape:/^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,autolink:/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,url:fo,tag:\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\",link:/^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,reflink:/^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,nolink:/^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,reflinkSearch:\"reflink|nolink(?!\\\\()\",strong:{start:/^(?:(\\*\\*(?=[*punctuation]))|\\*\\*)(?![\\s])|__/,middle:/^\\*\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*\\*$|^__(?![\\s])((?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\\s]\\*\\*(?!\\*)|[punctuation]\\*\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,endUnd:/[^\\s]__(?!_)(?:(?=[punctuation*\\s])|$)/},em:{start:/^(?:(\\*(?=[punctuation]))|\\*)(?![*\\s])|_/,middle:/^\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*$|^_(?![_\\s])(?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\\s]\\*(?!\\*)|[punctuation]\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,endUnd:/[^\\s]_(?!_)(?:(?=[punctuation*\\s])|$)/},code:/^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,br:/^( {2,}|\\\\)\\n(?!\\s*$)/,del:fo,text:/^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n)))/,punctuation:/^([\\s*punctuation])/,_punctuation:\"!\\\"#$%&'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~\"};mo.punctuation=po(mo.punctuation).replace(/punctuation/g,mo._punctuation).getRegex(),mo._blockSkip=\"\\\\[[^\\\\]]*?\\\\]\\\\([^\\\\)]*?\\\\)|`[^`]*?`|<[^>]*?>\",mo._overlapSkip=\"__[^_]*?__|\\\\*\\\\*\\\\[^\\\\*\\\\]*?\\\\*\\\\*\",mo._comment=po(go._comment).replace(\"(?:--\\x3e|$)\",\"--\\x3e\").getRegex(),mo.em.start=po(mo.em.start).replace(/punctuation/g,mo._punctuation).getRegex(),mo.em.middle=po(mo.em.middle).replace(/punctuation/g,mo._punctuation).replace(/overlapSkip/g,mo._overlapSkip).getRegex(),mo.em.endAst=po(mo.em.endAst,\"g\").replace(/punctuation/g,mo._punctuation).getRegex(),mo.em.endUnd=po(mo.em.endUnd,\"g\").replace(/punctuation/g,mo._punctuation).getRegex(),mo.strong.start=po(mo.strong.start).replace(/punctuation/g,mo._punctuation).getRegex(),mo.strong.middle=po(mo.strong.middle).replace(/punctuation/g,mo._punctuation).replace(/overlapSkip/g,mo._overlapSkip).getRegex(),mo.strong.endAst=po(mo.strong.endAst,\"g\").replace(/punctuation/g,mo._punctuation).getRegex(),mo.strong.endUnd=po(mo.strong.endUnd,\"g\").replace(/punctuation/g,mo._punctuation).getRegex(),mo.blockSkip=po(mo._blockSkip,\"g\").getRegex(),mo.overlapSkip=po(mo._overlapSkip,\"g\").getRegex(),mo._escapes=/\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g,mo._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,mo._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,mo.autolink=po(mo.autolink).replace(\"scheme\",mo._scheme).replace(\"email\",mo._email).getRegex(),mo._attribute=/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/,mo.tag=po(mo.tag).replace(\"comment\",mo._comment).replace(\"attribute\",mo._attribute).getRegex(),mo._label=/(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/,mo._href=/<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/,mo._title=/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/,mo.link=po(mo.link).replace(\"label\",mo._label).replace(\"href\",mo._href).replace(\"title\",mo._title).getRegex(),mo.reflink=po(mo.reflink).replace(\"label\",mo._label).getRegex(),mo.reflinkSearch=po(mo.reflinkSearch,\"g\").replace(\"reflink\",mo.reflink).replace(\"nolink\",mo.nolink).getRegex(),mo.normal=ho({},mo),mo.pedantic=ho({},mo.normal,{strong:{start:/^__|\\*\\*/,middle:/^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,endAst:/\\*\\*(?!\\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\\*/,middle:/^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,endAst:/\\*(?!\\*)/g,endUnd:/_(?!_)/g},link:po(/^!?\\[(label)\\]\\((.*?)\\)/).replace(\"label\",mo._label).getRegex(),reflink:po(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace(\"label\",mo._label).getRegex()}),mo.gfm=ho({},mo.normal,{escape:po(mo.escape).replace(\"])\",\"~|])\").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/}),mo.gfm.url=po(mo.gfm.url,\"i\").replace(\"email\",mo.gfm._extended_email).getRegex(),mo.breaks=ho({},mo.gfm,{br:po(mo.br).replace(\"{2,}\",\"*\").getRegex(),text:po(mo.gfm.text).replace(\"\\\\b_\",\"\\\\b_| {2,}\\\\n\").replace(/\\{2,\\}/g,\"*\").getRegex()});var bo={block:go,inline:mo};const yo=uo,{defaults:vo}=Dr.exports,{block:wo,inline:ko}=bo,{repeatString:xo}=ro;function So(e){return e.replace(/---/g,\"—\").replace(/--/g,\"–\").replace(/(^|[-\\u2014/(\\[{\"\\s])'/g,\"$1‘\").replace(/'/g,\"’\").replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g,\"$1“\").replace(/\"/g,\"”\").replace(/\\.{3}/g,\"…\")}function _o(e){let t,n,r=\"\";const o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n=\"x\"+n.toString(16)),r+=\"&#\"+n+\";\";return r}const{defaults:Eo}=Dr.exports,{cleanUrl:Ao,escape:Oo}=ro;var jo=class{constructor(e){this.options=e||Eo}code(e,t,n){const r=(t||\"\").match(/\\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return r?'<pre><code class=\"'+this.options.langPrefix+Oo(r,!0)+'\">'+(n?e:Oo(e,!0))+\"</code></pre>\\n\":\"<pre><code>\"+(n?e:Oo(e,!0))+\"</code></pre>\\n\"}blockquote(e){return\"<blockquote>\\n\"+e+\"</blockquote>\\n\"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?\"<h\"+t+' id=\"'+this.options.headerPrefix+r.slug(n)+'\">'+e+\"</h\"+t+\">\\n\":\"<h\"+t+\">\"+e+\"</h\"+t+\">\\n\"}hr(){return this.options.xhtml?\"<hr/>\\n\":\"<hr>\\n\"}list(e,t,n){const r=t?\"ol\":\"ul\";return\"<\"+r+(t&&1!==n?' start=\"'+n+'\"':\"\")+\">\\n\"+e+\"</\"+r+\">\\n\"}listitem(e){return\"<li>\"+e+\"</li>\\n\"}checkbox(e){return\"<input \"+(e?'checked=\"\" ':\"\")+'disabled=\"\" type=\"checkbox\"'+(this.options.xhtml?\" /\":\"\")+\"> \"}paragraph(e){return\"<p>\"+e+\"</p>\\n\"}table(e,t){return t&&(t=\"<tbody>\"+t+\"</tbody>\"),\"<table>\\n<thead>\\n\"+e+\"</thead>\\n\"+t+\"</table>\\n\"}tablerow(e){return\"<tr>\\n\"+e+\"</tr>\\n\"}tablecell(e,t){const n=t.header?\"th\":\"td\";return(t.align?\"<\"+n+' align=\"'+t.align+'\">':\"<\"+n+\">\")+e+\"</\"+n+\">\\n\"}strong(e){return\"<strong>\"+e+\"</strong>\"}em(e){return\"<em>\"+e+\"</em>\"}codespan(e){return\"<code>\"+e+\"</code>\"}br(){return this.options.xhtml?\"<br/>\":\"<br>\"}del(e){return\"<del>\"+e+\"</del>\"}link(e,t,n){if(null===(e=Ao(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href=\"'+Oo(e)+'\"';return t&&(r+=' title=\"'+t+'\"'),r+=\">\"+n+\"</a>\",r}image(e,t,n){if(null===(e=Ao(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src=\"'+e+'\" alt=\"'+n+'\"';return t&&(r+=' title=\"'+t+'\"'),r+=this.options.xhtml?\"/>\":\">\",r}text(e){return e}},To=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return\"\"+n}image(e,t,n){return\"\"+n}br(){return\"\"}},zo=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\\/a-z].*?>/gi,\"\").replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g,\"\").replace(/\\s/g,\"-\")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+\"-\"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}};const Lo=jo,$o=To,Co=zo,{defaults:qo}=Dr.exports,{unescape:Io}=ro;const Ro=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||vo,this.options.tokenizer=this.options.tokenizer||new yo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;const t={block:wo.normal,inline:ko.normal};this.options.pedantic?(t.block=wo.pedantic,t.inline=ko.pedantic):this.options.gfm&&(t.block=wo.gfm,this.options.breaks?t.inline=ko.breaks:t.inline=ko.gfm),this.tokenizer.rules=t}static get rules(){return{block:wo,inline:ko}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){return e=e.replace(/\\r\\n|\\r/g,\"\\n\").replace(/\\t/g,\"    \"),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens}blockTokens(e,t=[],n=!0){let r,o,i,a;for(e=e.replace(/^ +$/gm,\"\");e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),r.type?t.push(r):(a=t[t.length-1],a.raw+=\"\\n\"+r.raw,a.text+=\"\\n\"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),i=r.items.length,o=0;o<i;o++)r.items[o].tokens=this.blockTokens(r.items[o].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),r.type?t.push(r):(a=t[t.length-1],a.raw+=\"\\n\"+r.raw,a.text+=\"\\n\"+r.text);else if(e){const t=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}return t}inline(e){let t,n,r,o,i,a;const s=e.length;for(t=0;t<s;t++)switch(a=e[t],a.type){case\"paragraph\":case\"text\":case\"heading\":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case\"table\":for(a.tokens={header:[],cells:[]},o=a.header.length,n=0;n<o;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(o=a.cells.length,n=0;n<o;n++)for(i=a.cells[n],a.tokens.cells[n]=[],r=0;r<i.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(i[r],a.tokens.cells[n][r]);break;case\"blockquote\":this.inline(a.tokens);break;case\"list\":for(o=a.items.length,n=0;n<o;n++)this.inline(a.items[n].tokens)}return e}inlineTokens(e,t=[],n=!1,r=!1){let o,i,a,s,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(i[0].slice(i[0].lastIndexOf(\"[\")+1,-1))&&(c=c.slice(0,i.index)+\"[\"+xo(\"a\",i[0].length-2)+\"]\"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,i.index)+\"[\"+xo(\"a\",i[0].length-2)+\"]\"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(a||(s=\"\"),a=!1,o=this.tokenizer.escape(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.tag(e,n,r))e=e.substring(o.raw.length),n=o.inLink,r=o.inRawBlock,t.push(o);else if(o=this.tokenizer.link(e))e=e.substring(o.raw.length),\"link\"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,r)),t.push(o);else if(o=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(o.raw.length),\"link\"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,r)),t.push(o);else if(o=this.tokenizer.strong(e,c,s))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,r),t.push(o);else if(o=this.tokenizer.em(e,c,s))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,r),t.push(o);else if(o=this.tokenizer.codespan(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.br(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.del(e))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,r),t.push(o);else if(o=this.tokenizer.autolink(e,_o))e=e.substring(o.raw.length),t.push(o);else if(n||!(o=this.tokenizer.url(e,_o))){if(o=this.tokenizer.inlineText(e,r,So))e=e.substring(o.raw.length),s=o.raw.slice(-1),a=!0,t.push(o);else if(e){const t=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(o.raw.length),t.push(o);return t}},No=class e{constructor(e){this.options=e||qo,this.options.renderer=this.options.renderer||new Lo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $o,this.slugger=new Co}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n,r,o,i,a,s,c,l,u,f,d,p,h,g,m,b,y,v,w=\"\";const k=e.length;for(n=0;n<k;n++)switch(f=e[n],f.type){case\"space\":continue;case\"hr\":w+=this.renderer.hr();continue;case\"heading\":w+=this.renderer.heading(this.parseInline(f.tokens),f.depth,Io(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case\"code\":w+=this.renderer.code(f.text,f.lang,f.escaped);continue;case\"table\":for(l=\"\",c=\"\",i=f.header.length,r=0;r<i;r++)c+=this.renderer.tablecell(this.parseInline(f.tokens.header[r]),{header:!0,align:f.align[r]});for(l+=this.renderer.tablerow(c),u=\"\",i=f.cells.length,r=0;r<i;r++){for(s=f.tokens.cells[r],c=\"\",a=s.length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(s[o]),{header:!1,align:f.align[o]});u+=this.renderer.tablerow(c)}w+=this.renderer.table(l,u);continue;case\"blockquote\":u=this.parse(f.tokens),w+=this.renderer.blockquote(u);continue;case\"list\":for(d=f.ordered,p=f.start,h=f.loose,i=f.items.length,u=\"\",r=0;r<i;r++)m=f.items[r],b=m.checked,y=m.task,g=\"\",m.task&&(v=this.renderer.checkbox(b),h?m.tokens.length>0&&\"text\"===m.tokens[0].type?(m.tokens[0].text=v+\" \"+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&\"text\"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=v+\" \"+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:\"text\",text:v}):g+=v),g+=this.parse(m.tokens,h),u+=this.renderer.listitem(g,y,b);w+=this.renderer.list(u,d,p);continue;case\"html\":w+=this.renderer.html(f.text);continue;case\"paragraph\":w+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case\"text\":for(u=f.tokens?this.parseInline(f.tokens):f.text;n+1<k&&\"text\"===e[n+1].type;)f=e[++n],u+=\"\\n\"+(f.tokens?this.parseInline(f.tokens):f.text);w+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with \"'+f.type+'\" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return w}parseInline(e,t){t=t||this.renderer;let n,r,o=\"\";const i=e.length;for(n=0;n<i;n++)switch(r=e[n],r.type){case\"escape\":case\"text\":o+=t.text(r.text);break;case\"html\":o+=t.html(r.text);break;case\"link\":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case\"image\":o+=t.image(r.href,r.title,r.text);break;case\"strong\":o+=t.strong(this.parseInline(r.tokens,t));break;case\"em\":o+=t.em(this.parseInline(r.tokens,t));break;case\"codespan\":o+=t.codespan(r.text);break;case\"br\":o+=t.br();break;case\"del\":o+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with \"'+r.type+'\" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}},Do=uo,Po=jo,Mo=To,Fo=zo,{merge:Ho,checkSanitizeDeprecation:Uo,escape:Zo}=ro,{getDefaults:Bo,changeDefaults:Go,defaults:Jo}=Dr.exports;function Yo(e,t,n){if(null==e)throw new Error(\"marked(): input parameter is undefined or null\");if(\"string\"!=typeof e)throw new Error(\"marked(): input parameter is of type \"+Object.prototype.toString.call(e)+\", string expected\");if(\"function\"==typeof t&&(n=t,t=null),t=Ho({},Yo.defaults,t||{}),Uo(t),n){const r=t.highlight;let o;try{o=Ro.lex(e,t)}catch(e){return n(e)}const i=function(e){let i;if(!e)try{i=No.parse(o,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,i)};if(!r||r.length<3)return i();if(delete t.highlight,!o.length)return i();let a=0;return Yo.walkTokens(o,(function(e){\"code\"===e.type&&(a++,setTimeout((()=>{r(e.text,e.lang,(function(t,n){if(t)return i(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),a--,0===a&&i()}))}),0))})),void(0===a&&i())}try{const n=Ro.lex(e,t);return t.walkTokens&&Yo.walkTokens(n,t.walkTokens),No.parse(n,t)}catch(e){if(e.message+=\"\\nPlease report this to https://github.com/markedjs/marked.\",t.silent)return\"<p>An error occurred:</p><pre>\"+Zo(e.message+\"\",!0)+\"</pre>\";throw e}}Yo.options=Yo.setOptions=function(e){return Ho(Yo.defaults,e),Go(Yo.defaults),Yo},Yo.getDefaults=Bo,Yo.defaults=Jo,Yo.use=function(e){const t=Ho({},e);if(e.renderer){const n=Yo.defaults.renderer||new Po;for(const t in e.renderer){const r=n[t];n[t]=(...o)=>{let i=e.renderer[t].apply(n,o);return!1===i&&(i=r.apply(n,o)),i}}t.renderer=n}if(e.tokenizer){const n=Yo.defaults.tokenizer||new Do;for(const t in e.tokenizer){const r=n[t];n[t]=(...o)=>{let i=e.tokenizer[t].apply(n,o);return!1===i&&(i=r.apply(n,o)),i}}t.tokenizer=n}if(e.walkTokens){const n=Yo.defaults.walkTokens;t.walkTokens=t=>{e.walkTokens(t),n&&n(t)}}Yo.setOptions(t)},Yo.walkTokens=function(e,t){for(const n of e)switch(t(n),n.type){case\"table\":for(const e of n.tokens.header)Yo.walkTokens(e,t);for(const e of n.tokens.cells)for(const n of e)Yo.walkTokens(n,t);break;case\"list\":Yo.walkTokens(n.items,t);break;default:n.tokens&&Yo.walkTokens(n.tokens,t)}},Yo.parseInline=function(e,t){if(null==e)throw new Error(\"marked.parseInline(): input parameter is undefined or null\");if(\"string\"!=typeof e)throw new Error(\"marked.parseInline(): input parameter is of type \"+Object.prototype.toString.call(e)+\", string expected\");t=Ho({},Yo.defaults,t||{}),Uo(t);try{const n=Ro.lexInline(e,t);return t.walkTokens&&Yo.walkTokens(n,t.walkTokens),No.parseInline(n,t)}catch(e){if(e.message+=\"\\nPlease report this to https://github.com/markedjs/marked.\",t.silent)return\"<p>An error occurred:</p><pre>\"+Zo(e.message+\"\",!0)+\"</pre>\";throw e}},Yo.Parser=No,Yo.parser=No.parse,Yo.Renderer=Po,Yo.TextRenderer=Mo,Yo.Lexer=Ro,Yo.lexer=Ro.lex,Yo.Tokenizer=Do,Yo.Slugger=Fo,Yo.parse=Yo;var Xo=Yo,Vo=new Xo.Renderer;function Wo(e,t){var n=e.substr(1,e.length-2).trim();if(/\\s/.test(n)){var r=n.match(/^[^:,]+/)[0],o=t.find((function(e){return e.match.test(r)}));if(o){var i=n.replace(r,\"\");if(\":\"===i[0]){var a=new Function('return {\"'.concat(r,'\" ').concat(i,\"}\"))(),s=a[r];return delete a[r],o.render(s,a,n)}if(\",\"===i[0]){var c=new Function(\"return {\".concat(i.substr(1),\"}\"))();return o.render(null,c,n)}if(\"\"===i)return o.render(null,{},n)}}else{var l,u=/(.+)\\[(.+)\\]$/.exec(n);if(void 0!==(l=u?rn(u[1])[u[2]]:rn(n)))return l}return e}function Ko(e,t){var n=\"\",r=0,o=e.indexOf(\"{\");if(-1===o)return e;for(var i,a=!1,s=o+1;s<e.length;s++)switch(e[s]){case\"{\":o=s,a=!1;break;case'\"':case\"'\":s>0&&\"\\\\\"!==e[s-1]&&(a?a&&i===e[s]&&(a=!1):(a=!0,i=e[s]));break;case\"}\":if(!a){var c=e.substring(o,s+1),l=\"\";try{l=Wo(c,t)}catch(e){console.warn('An error occurred while rendering \"'.concat(c,'\": ').concat(e.message)),l=c}void 0===l&&(l=\"\"),n+=e.substring(r,o)+l,r=s+1,-1===(o=e.indexOf(\"{\",r))&&(s=e.index)}}return n+e.substring(r)}Object.assign(Vo,{blockquote:function(e){return'<div class=\"fork\">'.concat(e,\"</div>\")},del:function(e){return'<span class=\"small-caps\">'.concat(e,\"</span>\")}});var Qo=jt(\"render\").log,ei={renderer:Vo,smartypants:!0};function ti(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.vars)throw new Error(\"The renderer was given an object with no vars property.\");if(!e.blocks)throw new Error(\"The renderer was given an object with no blocks property.\");var o=\"\";if(!r){Qo(\"Setting vars (\".concat(e.vars.length,\")\"));var i,a=tt(e.vars);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.condition){var c=s.condition();c?(Qo('Setting var \"'.concat(s.name,'\" (condition is currently true)')),en(s.name,s.value())):Qo('Not setting var \"'.concat(s.name,'\" (condition is currently false)'))}else Qo('Setting var \"'.concat(s.name,'\"')),en(s.name,s.value())}}catch(e){a.e(e)}finally{a.f()}}var l=[],u={};return e.blocks.forEach((function(e){switch(e.type){case\"text\":var r={text:e.content,startsNewParagraph:!0},i=l.filter((function(e){return!!e.mod.processRaw}));Qo(\"Running \".concat(i.length,\" modifiers on raw source block\")),i.forEach((function(e){e.mod.processRaw(r,{state:u[e.mod],invocation:e.invocation})})),r.text=Ko(wn(r.text),t);var a=l.filter((function(e){return!!e.mod.process}));Qo(\"Running \".concat(a.length,\" modifiers on source block\")),a.forEach((function(e){return e.mod.process(r,{state:u[e.mod],invocation:e.invocation})})),Qo(\"Output after modifiers: \".concat(JSON.stringify(r))),\"\"!==r.text.trim()&&(\"\"!==o&&(o+=r.startsNewParagraph?\"\\n\\n\":\" \"),o+=r.text),l=[];break;case\"modifier\":var s=n.filter((function(t){return t.match.test(e.content)}));if(1===s.length){var c=s[0];Qo('Activated \"'.concat(c.name,'\" modifier matching [').concat(e.content,\"]\")),u[c]=u[c]||{},l.push({mod:c,invocation:e.content})}else 0===s.length||console.warn('More than one modifier matched \"['.concat(e.content,']\".')),o+=\"\\n\\n[\".concat(e.content,\"]\\n\\n\");break;default:throw new Error(\"Don't know how to render a block with type \\\"\".concat(e.type,'\".'))}})),o=o.replace(/^((>|-|\\*).*$)\\n+\\2/gm,\"$1\\n$2\"),Xo.setOptions(ei),Qo(\"Final Markdown:\\n\".concat(o)),Xo(o)}var ni={\"config.template.inserts\":dr,\"config.template.modifiers\":Lr};function ri(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ti(Nr(e),rn(\"config.template.inserts\")||[],rn(\"config.template.modifiers\")||[],t)}var oi=jt(\"extensibility\").warn;function ii(e){return e.split(\".\").map(window.parseInt)}function ai(e,t,n){var r,o=e.volume,i=t-o,a=0;return new Promise((function(t){return window.requestAnimationFrame((function(s){r=s,window.requestAnimationFrame((function s(c){a+=c-r,e.volume=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}(a,o,i,n),a<n?(r=c,window.requestAnimationFrame(s)):t()}))}))}))}var si,ci=jt(\"sound\"),li=ci.log,ui=ci.warn,fi={},di={\"sound.mute\":!1,\"sound.volume\":1,\"sound.transitionDuration\":\"1s\"};function pi(e,t,n){fi[e]?(fi[e].setAttribute(\"src\",t),n?fi[e].setAttribute(\"preload\",\"auto\"):fi[e].removeAttribute(\"preload\"),li('Updated <audio> element in sound bank for \"'.concat(e,'\" to use ').concat(t))):(fi[e]=document.createElement(\"audio\"),fi[e].setAttribute(\"src\",t),n&&fi[e].setAttribute(\"preload\",\"auto\"),si.appendChild(fi[e]),li('Added new <audio> element to sound bank for \"'.concat(e,'\" for ').concat(t)))}function hi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!fi[e])throw new Error(\"There is no sound loaded named \".concat(e,\".\"));return li('Playing sound \"'.concat(e,'\" (looping: ').concat(t,\")\")),n>0&&(fi[e].volume=0,ai(fi[e],1,n)),t?(fi[e].loop=!0,fi[e].play()):(fi[e].loop=!1,new Promise((function(t,n){try{fi[e].addEventListener(\"ended\",(function n(){fi[e].removeEventListener(\"ended\",n),t()})),fi[e].play().catch((function(e){return n(e)}))}catch(e){n(e)}})))}function gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!fi[e])throw new Error(\"There is no sound loaded named \".concat(e,\".\"));if(t<=0)fi[e].pause(),fi[e].currentTime=0;else{var n=fi[e].volume;ai(fi[e],0,t).then((function(){fi[e].pause(),fi[e].volume=n,fi[e].currentTime=0}))}}function mi(e,t){if(!fi[e])throw new Error(\"There is no sound loaded named \".concat(e,\".\"));if(t<0||t>1)throw new Error(\"A sound volume must be between 0 and 1.\");fi[e].volume=t}function bi(e,t){if(!fi[e])throw new Error(\"There is no sound loaded named \".concat(e,\".\"));fi[e].muted=t}var yi=\"1.2.3\";var vi={exports:{}};(function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(\" \"),n.s1=r(\" \"),n.s2=r(\" \"),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,i&&(\"object\"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.alea=i})(0,vi,!1);var wi={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n=\"\";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(\"object\"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor128=i}(0,e,!1)}(wi);var ki={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n=\"\";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(\"object\"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorwow=i}(0,e,!1)}(ki);var xi={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=\"\"+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorshift7=i}(0,e,!1)}(xi);var Si={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],c=128;for(t===(0|t)?(r=t,t=null):(t+=\"\\0\",r=0,c=Math.max(c,t.length)),o=0,i=-32;i<c;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor4096=i}(0,e,!1)}(Si);var _i={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n=\"\";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(\"object\"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.tychei=i}(0,e,!1)}(_i);var Ei={exports:{}};!function(e){!function(t,n){var r,o=(0,eval)(\"this\"),i=256,a=n.pow(i,6),s=n.pow(2,52),c=2*s,l=255;function u(e,l,u){var m=[],b=h(p((l=1==l?{entropy:!0}:l||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return r&&(e=r.randomBytes)?e=e(i):(e=new Uint8Array(i),(o.crypto||o.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=o.navigator,a=n&&n.plugins;return[+new Date,o,a,o.screen,g(t)]}}():e,3),m),y=new f(m),v=function(){for(var e=y.g(6),t=a,n=0;e<s;)e=(e+n)*i,t*=i,n=y.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|y.g(4)},v.quick=function(){return y.g(4)/4294967296},v.double=v,h(g(y.S),t),(l.pass||u||function(e,t,r,o){return o&&(o.S&&d(o,y),e.state=function(){return d(y,{})}),r?(n.random=e,t):e})(v,b,\"global\"in l?l.global:this==n,l.state)}function f(e){var t,n=e.length,r=this,o=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<i;)s[o]=o++;for(o=0;o<i;o++)s[o]=s[a=l&a+e[o%n]+(t=s[o])],s[a]=t;(r.g=function(e){for(var t,n=0,o=r.i,a=r.j,s=r.S;e--;)t=s[o=l&o+1],n=n*i+s[l&(s[o]=s[a=l&a+t])+(s[a]=t)];return r.i=o,r.j=a,n})(i)}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){var n,r=[],o=typeof e;if(t&&\"object\"==o)for(n in e)try{r.push(p(e[n],t-1))}catch(e){}return r.length?r:\"string\"==o?e:e+\"\\0\"}function h(e,t){for(var n,r=e+\"\",o=0;o<r.length;)t[l&o]=l&(n^=19*t[l&o])+r.charCodeAt(o++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(n.seedrandom=u,h(n.random(),t),e.exports){e.exports=u;try{r=require(\"crypto\")}catch(e){}}}([],Math)}(Ei);var Ai=vi.exports,Oi=wi.exports,ji=ki.exports,Ti=xi.exports,zi=Si.exports,Li=_i.exports,$i=Ei.exports;$i.alea=Ai,$i.xor128=Oi,$i.xorwow=ji,$i.xorshift7=Ti,$i.xor4096=zi,$i.tychei=Li;var Ci=$i,qi={\"config.random.seed\":function(){return new Date},\"config.random.privateState\":null},Ii=Ci(new Date,{state:!0});Xe.on(\"state-change\",(function(e){var t=e.name,n=e.value;\"config.random.seed\"===t&&(Ii=Ci(n,{state:!0}))}));var Ri=jt(\"style\").log,Ni=document.createElement(\"div\"),Di=document.createElement(\"div\"),Pi=document.createElement(\"div\"),Mi={};function Fi(e,t,n){var r=t.match(/\\.(.+)$/);if(r&&r[1]){var o=r[1],i=Mi[e]||document.createElement(\"style\");i.dataset.cbFontLoader=e,i.innerHTML='@font-face { font-family: \"'.concat(n,'\"; src: url(\"').concat(t,'\") format(\"').concat(o,'\"); }'),i.parentNode||Pi.appendChild(i)}}var Hi={white:\"#ffffff\",black:\"#000000\",gray:[\"#f8f9fa\",\"#f1f3f5\",\"#e9ecef\",\"#dee2e6\",\"#ced4da\",\"#adb5bd\",\"#868e96\",\"#495057\",\"#343a40\",\"#212529\"],red:[\"#fff5f5\",\"#ffe3e3\",\"#ffc9c9\",\"#ffa8a8\",\"#ff8787\",\"#ff6b6b\",\"#fa5252\",\"#f03e3e\",\"#e03131\",\"#c92a2a\"],pink:[\"#fff0f6\",\"#ffdeeb\",\"#fcc2d7\",\"#faa2c1\",\"#f783ac\",\"#f06595\",\"#e64980\",\"#d6336c\",\"#c2255c\",\"#a61e4d\"],grape:[\"#f8f0fc\",\"#f3d9fa\",\"#eebefa\",\"#e599f7\",\"#da77f2\",\"#cc5de8\",\"#be4bdb\",\"#ae3ec9\",\"#9c36b5\",\"#862e9c\"],violet:[\"#f3f0ff\",\"#e5dbff\",\"#d0bfff\",\"#b197fc\",\"#9775fa\",\"#845ef7\",\"#7950f2\",\"#7048e8\",\"#6741d9\",\"#5f3dc4\"],indigo:[\"#edf2ff\",\"#dbe4ff\",\"#bac8ff\",\"#91a7ff\",\"#748ffc\",\"#5c7cfa\",\"#4c6ef5\",\"#4263eb\",\"#3b5bdb\",\"#364fc7\"],blue:[\"#e7f5ff\",\"#d0ebff\",\"#a5d8ff\",\"#74c0fc\",\"#4dabf7\",\"#339af0\",\"#228be6\",\"#1c7ed6\",\"#1971c2\",\"#1864ab\"],cyan:[\"#e3fafc\",\"#c5f6fa\",\"#99e9f2\",\"#66d9e8\",\"#3bc9db\",\"#22b8cf\",\"#15aabf\",\"#1098ad\",\"#0c8599\",\"#0b7285\"],teal:[\"#e6fcf5\",\"#c3fae8\",\"#96f2d7\",\"#63e6be\",\"#38d9a9\",\"#20c997\",\"#12b886\",\"#0ca678\",\"#099268\",\"#087f5b\"],green:[\"#ebfbee\",\"#d3f9d8\",\"#b2f2bb\",\"#8ce99a\",\"#69db7c\",\"#51cf66\",\"#40c057\",\"#37b24d\",\"#2f9e44\",\"#2b8a3e\"],lime:[\"#f4fce3\",\"#e9fac8\",\"#d8f5a2\",\"#c0eb75\",\"#a9e34b\",\"#94d82d\",\"#82c91e\",\"#74b816\",\"#66a80f\",\"#5c940d\"],yellow:[\"#fff9db\",\"#fff3bf\",\"#ffec99\",\"#ffe066\",\"#ffd43b\",\"#fcc419\",\"#fab005\",\"#f59f00\",\"#f08c00\",\"#e67700\"],orange:[\"#fff4e6\",\"#ffe8cc\",\"#ffd8a8\",\"#ffc078\",\"#ffa94d\",\"#ff922b\",\"#fd7e14\",\"#f76707\",\"#e8590c\",\"#d9480f\"]},Ui=/-?\\d+(\\.\\d+)?%?/g;var Zi=function(e){return e.match(Ui)};var Bi=function(e,t,n){return Math.min(Math.max(e,t),n)},Gi=Zi,Ji=Bi;function Yi(e,t){switch(e=parseFloat(e),t){case 0:return Ji(e,0,360);case 1:case 2:return Ji(e,0,100);case 3:return Ji(e,0,1)}}var Xi=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t=\"#\",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t},Vi=Zi,Wi=Bi;function Ki(e,t){return t<3?-1!=e.indexOf(\"%\")?Math.round(255*Wi(parseInt(e,10),0,100)/100):Wi(parseInt(e,10),0,255):Wi(parseFloat(e),0,1)}var Qi=function(e){var t,n,r,o,i,a=e[0]/360,s=e[1]/100,c=e[2]/100;if(0==s)return[i=255*c,i,i];t=2*c-(n=c<.5?c*(1+s):c+s-c*s),o=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[l]=255*i;return o},ea=function(e){return Gi(e).map(Yi)},ta=Xi,na=function(e){return Vi(e).map(Ki)},ra=Qi;var oa={\"#\":ta,hsl:function(e){var t=ea(e),n=ra(t);return 4===t.length&&n.push(t[3]),n},rgb:na};function ia(e){for(var t in oa)if(0===e.indexOf(t))return oa[t](e)}ia.rgb=na,ia.hsl=ea,ia.hex=ta;var aa=ia;var sa=function(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),c=s-a;return s==a?t=0:r==s?t=(o-i)/c:o==s?t=2+(i-r)/c:i==s&&(t=4+(r-o)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s==a?0:n<=.5?c/(s+a):c/(2-s-a)),100*n]};function ca(e){if(\"string\"!=typeof e)throw new Error(\"Only strings can be parsed as color values.\");Hi[e]&&(e=Array.isArray(Hi[e])?Hi[e][Hi[e].length-1]:Hi[e]);var t=/^(\\w+)-(\\d)$/.exec(e);t&&Hi[t[1]]&&(e=Hi[t[1]][t[2]]);var n=aa(e),r=sa(n);return r[3]=void 0!==n[3]?n[3]:1,\"hsla(\".concat(r[0],\", \").concat(r[1],\"%, \").concat(r[2],\"%, \").concat(r[3],\")\")}function la(e){if(void 0===e)return{\"background-color\":\"inherit\",color:\"inherit\"};if(\"string\"!=typeof e)throw new Error(\"Only strings can be parsed as colors.\");var t={color:\"inherit\",\"background-color\":\"inherit\"},n=e.split(/ on /i);return t.color=ca(n[0].trim().toLowerCase()),2===n.length&&(t[\"background-color\"]=ca(n[1].trim().toLowerCase())),t}var ua,fa,da=jt(\"style\").log,pa={\"config.style.backdrop\":\"gray-0\",\"config.style.page.style\":\"shadow\",\"config.style.page.style.borderColor\":\"gray-2\",\"config.style.page.font\":\"Iowan Old Style/Constantia/Georgia/serif 18\",\"config.style.page.color\":\"gray-9 on white\",\"config.style.page.fork.divider.color\":\"gray-3\",\"config.style.page.fork.divider.style\":\"dashed\",\"config.style.page.fork.divider.size\":1,\"config.style.page.link.color\":\"gray-9\",\"config.style.page.link.lineColor\":\"red-8\",\"config.style.page.link.font\":\"underline\",\"config.style.page.link.active.color\":\"red-8 on red-0\",\"config.style.page.verticalAlign\":\"center\",\"config.style.page.header.font\":\"16\",\"config.style.page.header.link.font\":\"small caps\",\"config.style.page.footer.font\":\"16\",\"config.style.page.footer.link.font\":\"small caps\"},ha={},ga=document.createElement(\"style\");function ma(e,t){ha[e]=ha[e]||{},Object.assign(ha[e],t),function(){function e(e,t){return e+\"{\"+Object.keys(t).sort().reduce((function(e,n){return t[n]?e+n+\":\"+t[n].toString()+\";\":e}),\"\")+\"}\"}ga.innerHTML=Object.keys(ha).reduce((function(t,n){return t+e(n,ha[n])}),\"\")}()}function ba(e,t){var n=\"#page\",r=e.replace(/^config\\.style\\.page\\./i,\"\").split(\".\");switch(\"header\"===r[0].toLowerCase()?(n+=\" header\",r.shift()):\"footer\"===r[0].toLowerCase()&&(n+=\" footer\",r.shift()),\"link\"===r[0].toLowerCase()&&(n+=\" a\",r.shift()),\"active\"===r[0].toLowerCase()&&(n=\"\".concat(n,\":hover, \").concat(n,\":active\"),r.shift()),r[0].toLowerCase()){case\"color\":da(\"Setting color for \".concat(n)),ma(n,la(t));break;case\"linecolor\":da(\"Setting line color for \".concat(n));var o=la(t).color;ma(n,{\"text-decoration-color\":o,\"-webkit-text-decoration-color\":o});break;case\"font\":da(\"Setting font for \".concat(n)),ma(n,function(e){var t={\"font-family\":\"inherit\",\"font-size\":\"inherit\",\"font-style\":\"inherit\",\"font-weight\":\"inherit\",\"letter-spacing\":\"inherit\",\"text-decoration\":\"inherit\",\"text-transform\":\"inherit\"};if(void 0===e)return t;if(\"string\"!=typeof e)throw new Error(\"Only strings can be parsed as fonts.\");function n(e,t){e[\"font-family\"]=t.split(\"/\").map((function(e){var t=e;return'\"'!==t[0]&&(t='\"'+t),'\"'!==t[t.length-1]&&(t+='\"'),t})).join(\",\")}function r(e){e[\"font-weight\"]=\"bold\"}function o(e){e[\"font-style\"]=\"italic\"}function i(e){e[\"font-style\"]=\"none\",e[\"font-weight\"]=\"normal\",e[\"letter-spacing\"]=\"normal\",e[\"text-decoration\"]=\"none\",e[\"text-transform\"]=\"none\"}function a(e){e[\"letter-spacing\"]=\"0.075em\",e[\"text-transform\"]=\"uppercase\",e[\"font-size\"]&&\"inherit\"!==e[\"font-size\"]?e[\"font-size\"]=\"calc(0.7 * \".concat(e[\"font-size\"],\")\"):e[\"font-size\"]=\"70%\"}function s(e){e[\"text-decoration\"]=\"underline\"}var c=/\\b\\d+(?:\\.\\d+)?(ch|cm|ex|in|mm|pc|pt|px|r?em|vh|vmax|vmin|vw|%)?/i.exec(e);if(c){/^\\d+$/.test(c[0])?t[\"font-size\"]=c[0]+\"px\":t[\"font-size\"]=c[0],0!==c.index&&n(t,e.substr(0,c.index).trim());var l=e.substr(c.index);/\\bregular\\b/i.test(l)?(t[\"font-style\"]=\"none\",t[\"font-weight\"]=\"normal\",t[\"letter-spacing\"]=\"normal\",t[\"text-decoration\"]=\"none\",t[\"text-transform\"]=\"none\"):(/\\bbold\\b/.test(l)&&r(t),/\\bitalics?\\b/.test(l)&&o(t),/\\bunderlined?/.test(l)&&s(t),/\\bsmall caps?\\b/.test(l)&&a(t))}else{for(var u,f=e;u=/(bold|italics?|regular|small caps|underlined?)$/.exec(f);){switch(u[0]){case\"bold\":r(t);break;case\"italic\":case\"italics\":o(t);break;case\"regular\":i(t);break;case\"small caps\":a(t);break;case\"underline\":case\"underlined\":s(t)}f=f.substr(0,u.index).trim()}\"\"!==f.trim()&&n(t,f)}return t}(t))}}Ct(document.querySelector(\"tw-storydata\")),window.engine={extend:function(e,t){var n=rn(\"engine.version\"),r=ii(e),o=ii(n);o[0]<r[0]?oi(\"The current engine version (\".concat(n,\") has a lower major version than requested (\").concat(e,\"); skipping\")):(o[0]>r[0]?oi(\"The current engine version (\".concat(n,\") has a higher major version than requested (\").concat(e,\"); running code but you may encounter problems\")):(o[1]<r[1]&&oi(\"The current engine version (\".concat(n,\") has a lower minor version than requested (\").concat(e,\"); running code but you may encounter problems\")),o[1]===r[1]&&o[2]<r[2]&&oi(\"The current engine version (\".concat(n,\") has a lower patch version than requested (\").concat(e,\"); running code but you may encounter problems\"))),t())},event:Xe,log:At,render:ri,state:dn,story:Ut,warn:Ot},Wt(),Object.assign(window,{go:hn,restart:gn}),Ni.dataset.cbGoogleFontLoader=\"\",Ni.setAttribute(\"hidden\",!0),Di.dataset.cbTypekitFontLoader=\"\",Di.setAttribute(\"hidden\",!0),Pi.dataset.cbUrlFontLoader=\"\",Pi.setAttribute(\"hidden\",!0),document.body.appendChild(Ni),document.body.appendChild(Di),document.body.appendChild(Pi),Xe.on(\"state-change\",(function(e){var t=e.name;if(\"config\"===t||\"config.style\"===t||\"config.style.fonts\"===t){var n=rn(\"config.style.fonts\");if(!n)return;Object.keys(n).forEach((function(e){var t=n[e].name,r=n[e].url;t&&r&&Fi(e,r,t)}))}else{var r=t.match(/^config\\.style\\.fonts\\.([^.]+)/i);if(r){var o=r[1],i=rn(\"config.style.fonts.\".concat(o,\".name\")),a=rn(\"config.style.fonts.\".concat(o,\".url\"));return void(a&&i&&(Ri(\"Adding font from URL (\".concat(i,\")\")),Fi(o,a,i)))}}Qt(t,\"config.style.googleFont\")&&(Ri(\"Adding Google font\"),Ni.innerHTML=rn(\"config.style.googleFont\")),Qt(t,\"config.style.typekitFont\")&&(Ri(\"Adding Typekit font\"),Di.innerHTML=rn(\"config.style.typekitFont\"))})),ga.dataset.cbAuthorStyles=\"\",document.head.appendChild(ga),Xe.on(\"state-change\",(function(e){var t=e.name,n=e.value;if(Qt(t,\"config.style.backdrop\")&&(da(\"Setting backdrop color\"),ma(\"#backdrop\",{\"background-color\":la(rn(\"config.style.backdrop\")).color})),Qt(t,\"config.style.page.fork.divider.color\")&&(da(\"Setting fork divider color\"),ma(\"#page .fork p a + a\",{\"border-top-color\":la(rn(\"config.style.page.fork.divider.color\")).color})),Qt(t,\"config.style.page.fork.divider.size\")&&(da(\"Setting fork divider size\"),ma(\"#page .fork p a + a\",{\"border-top-width\":\"\".concat(rn(\"config.style.page.fork.divider.size\"),\"px\")})),Qt(t,\"config.style.page.fork.divider.style\")&&(da(\"Setting fork divider style\"),ma(\"#page .fork p a + a\",{\"border-top-style\":rn(\"config.style.page.fork.divider.style\")})),Qt(t,\"config.style.page.style\")||Qt(t,\"config.style.page.style.borderColor\"))switch(da(\"Setting page style\"),rn(\"config.style.page.style\")){case\"none\":ma(\"#page\",{border:\"none\",\"box-shadow\":\"none\"});break;case\"shadow\":ma(\"#page\",{border:\"none\",\"box-shadow\":\"0 4px 8px hsla(0, 0%, 0%, 0.25)\"});break;case\"thick-line\":ma(\"#page\",{border:\"4px solid \".concat(la(rn(\"config.style.page.style.borderColor\")).color),\"box-shadow\":\"none\"});break;case\"thin-line\":ma(\"#page\",{border:\"1px solid \".concat(la(rn(\"config.style.page.style.borderColor\")).color),\"box-shadow\":\"none\"})}if(Qt(t,\"config.style.page.verticalAlign\"))switch(da(\"Setting page vertical alignment\"),rn(\"config.style.page.verticalAlign\")){case\"top\":ma(\"#page article\",{\"align-items\":\"flex-start\"});break;case\"center\":ma(\"#page article\",{\"align-items\":\"center\"});break;case\"bottom\":ma(\"#page article\",{\"align-items\":\"flex-end\"})}/^config\\.style\\.page\\..*\\.((line)?color|font)$/i.test(t)&&ba(t,n),Qt(t,\"config.style.page\")&&[\"config.style.page\",\"config.style.page.header\",\"config.style.page.footer\"].forEach((function(e){var t=rn(e);t&&function(e,t){[\"color\",\"font\",\"lineColor\"].forEach((function(n){t[n]&&ba(\"\".concat(e,\".\").concat(n),t[n]),t.link&&(t.link[n]&&ba(\"\".concat(e,\".link.\").concat(n),t.link[n]),t.link.active&&t.link.active[n]&&ba(\"\".concat(e,\".link.active.\").concat(n),t.link.active[n]))}))}(e,t)}))})),[Jn,_t,qi,di,Yt,pa,ni].forEach((function(e){return Object.keys(e).forEach((function(t){\"function\"==typeof e[t]?tn(t,e[t]()):tn(t,e[t])}))})),function(e){e(\"browser.height\",(function(){return window.innerHeight})),e(\"browser.online\",(function(){return window.navigator.onLine})),e(\"browser.width\",(function(){return window.innerWidth}))}(nn),function(e){e(\"engine.version\",(function(){return yi}))}(nn),function(e){e(\"now.second\",(function(){return(new Date).getSeconds()})),e(\"now.minute\",(function(){return(new Date).getMinutes()})),e(\"now.hour\",(function(){return(new Date).getHours()})),e(\"now.day\",(function(){return(new Date).getDate()})),e(\"now.weekday\",(function(){return(new Date).getDay()+1})),e(\"now.weekdayName\",(function(){return(new Date).toLocaleString(navigator.language,{weekday:\"long\"})})),e(\"now.month\",(function(){return(new Date).getMonth()+1})),e(\"now.monthName\",(function(){return(new Date).toLocaleString(navigator.language,{month:\"long\"})})),e(\"now.year\",(function(){return(new Date).getFullYear()})),e(\"now.timestamp\",(function(){return(new Date).toLocaleString(navigator.language,{hour:\"numeric\",minute:\"numeric\",second:\"numeric\"})}))}(nn),function(e){e(\"passage.name\",(function(){var e=rn(\"trail\");if(e)return e[e.length-1]})),e(\"passage.visits\",(function(){var e=rn(\"trail\"),t=rn(\"passage.name\");if(e)return e.reduce((function(e,n){return n===t?e+1:e}),0)}))}(nn),function(e){e(\"random.coinFlip\",(function(){return Ii()>.5})),e(\"random.fraction\",(function(){return Ii()})),[4,5,6,8,10,12,20,25,50,100,1e3].forEach((function(t){e(\"random.d\".concat(t),(function(){return 1+Math.round(Ii()*(t-1))}))}))}(nn),function(e){e(\"story.name\",Dt)}(nn),window.addEventListener(\"error\",jn),window.addEventListener(\"unhandledrejection\",(function(e){return jn(e.reason)})),ua=window.console.warn,fa=document.querySelector(\"#page .warnings\"),console.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(rn(\"config.testing\"))try{fa.removeAttribute(\"hidden\"),t.forEach((function(e){var t=document.createElement(\"li\");t.className=\"warning\",t.innerHTML=\"Warning: \".concat(Bn(e)),fa.appendChild(t)}))}catch(e){}ua.apply(window.console,t)},Xe.on(\"state-change\",(function(e){\"trail\"===e.name&&(fa.setAttribute(\"hidden\",\"\"),fa.innerHTML=\"\")})),Hn=document.querySelector(\"#page article\"),Zn=document.querySelector(\"#page #spinner\"),Un={},[\"header\",\"footer\"].forEach((function(e){Un[e]={container:document.querySelector(\"#page \".concat(e))},[\"left\",\"center\",\"right\"].forEach((function(t){Un[e][t]=document.querySelector(\"#page \".concat(e,\" .\").concat(t))}))})),Xe.on(\"state-change\",(function(e){var t=e.name;return Kn(\"trail\"===t)})),[\"change\",\"click\"].forEach((function(e){document.body.addEventListener(e,(function(e){for(var t=e.target;t;)t.dataset&&Object.keys(t.dataset).some((function(e){return/^cb[A-Z]/.test(e)}))&&Xe.emit(\"dom-\".concat(e.type),t),t=t.parentNode}))})),(si=document.createElement(\"div\")).setAttribute(\"hidden\",!0),si.dataset.cbSounds=\"\",document.body.appendChild(si),Xe.on(\"state-change\",(function(e){var t=e.name,n=e.value,r=Qt(t,\"sound.ambient\"),o=Qt(t,\"sound.effect\");if(r){var i=rn(\"sound.ambient\");i&&Object.keys(i).forEach((function(e){i[e].url&&pi(e,i[e].url,!1),i[e].volume&&mi(e,i[e].volume),void 0!==i[e].muted&&bi(e,i[e].muted),i[e].playing&&hi(e,!0).catch((function(t){return ui('Could not resume playing ambient sound \"'.concat(e,'\" (').concat(t.message,\")\"))}))}))}if(o){var a=rn(\"sound.effect\");a&&Object.keys(a).forEach((function(e){a[e].url&&pi(e,a[e].url,!0),a[e].volume&&mi(e,a[e].volume),void 0!==a[e].muted&&bi(e,a[e].muted),a[e].playing&&hi(e,!1).then((function(){return en(\"sound.effect.\".concat(e,\".playing\"),!1)})).catch((function(t){return ui('Could not resume playing sound effect \"'.concat(e,'\" (').concat(t.message))}))}))}if(!r&&!o){var s=/^sound\\.(ambient|effect)\\.(.+?)\\.(.+)$/i.exec(t);if(s)switch(s[3].toLowerCase()){case\"playing\":n?\"ambient\"===s[1]?hi(s[2],!0,xn(rn(\"\".concat(s[2],\".transitionDuration\"))||rn(\"sound.transitionDuration\")||\"0s\",\"ms\")):hi(s[2],!1).then((function(){return en(t,!1)})):\"ambient\"===s[1]?gi(s[2],xn(rn(\"\".concat(s[2],\".transitionDuration\"))||rn(\"sound.transitionDuration\")||\"0s\",\"ms\")):gi(s[2]);break;case\"url\":pi(s[2],n,\"effect\"===s[1]);break;case\"volume\":mi(s[2],n)}}})),qt(),n&&rn(\"config.testing\")&&n.init(),!rn(\"config.testing\")&&ln()&&un(),Rt(),It()}(backstage);\n</script></body></html>",
    "author": "Chris Klimas",
    "description": "1.2.3",
    "hydrate": "!function(e){\"use strict\";function t(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var n=t(e);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=a(a({},function(e){return Object.keys(e).reduce((function(t,n){return a(a({},t),{},r({},n,(function(t){var o=e[n],a=o.matcher,r=o.wrapper;t.replaceSelections(t.getSelections().map((function(e){return a.test(e)?e.replace(a,\"$1\"):r(e)})),\"around\"),t.focus()})))}),{})}({boldText:{matcher:/^(?:__|\\*\\*)(.+)(?:__|\\*\\*)$/,wrapper:function(e){return\"**\".concat(e,\"**\")}},italicText:{matcher:/^(?:_|\\*)(.+)(?:_|\\*)$/,wrapper:function(e){return\"*\".concat(e,\"*\")}},monospacedText:{matcher:/^`(.+)`$/,wrapper:function(e){return\"`\"+e+\"`\"}},smallCapsText:{matcher:/^~~(.+)~~$/,wrapper:function(e){return\"~~\".concat(e,\"~~\")}}})),function(e){return Object.keys(e).reduce((function(t,n){return a(a({},t),{},r({},n,(function(t){t.replaceSelection(e[n]),t.focus()})))}),{})}({insertAfter:\"\\n[after 1 second]\\nText\\n\\n[continued]\",insertAppend:\"\\n[append]\\n\",insertBlockquote:\"\\n<blockquote>Text</blockquote>\\n\",insertContinue:\"\\n[continued]\\n\",insertBulletedList:\"\\n- Item\\n- Item\\n\",insertCss:\"\\n[CSS]\\n.page article {\\n  color: green;\\n}\\n\\n[continued]\\n\",insertCyclingLink:\"{cycling link for: 'variable name', choices: ['choice', 'choice']}\",insertDropdownMenu:\"{dropdown menu for: 'variable name', choices: ['choice', 'choice']}\",insertEmbedAmbientSound:\"{ambient sound: 'sound name'}\",insertEmbedSoundEffect:\"{sound effect: 'sound name'}\",insertEmbedPassage:\"{embed passage: 'Passage name'}\",insertEmbedYouTubeVideo:\"{embed YouTube video: 'URL'}\",insertImageFlickr:\"{embed Flickr image: 'Flickr embed code'}\",insertImageUrl:\"{embed image: 'URL to image'}\",insertImageUnsplash:\"{embed Unsplash image: }\",insertForkList:\"\\n> Link\\n> Link\\n\",insertIf:\"\\n[if condition]\\nText\\n\\n[continue]\\n\",insertIfElse:\"\\n[if condition]\\nText\\n\\n[else]Text\\n\\n[continued]\\n\",insertJs:\"\\n[JavaScript]\\nwrite('Hello from JavaScript');\\n\\n[continued]\\n\",insertNote:\"\\n[note]\\nNote to self\\n\\n[continued]\\n\",insertNumberedList:\"\\n1. Item\\n2. Item\\n\",insertPassageLink:\"{link to: 'Passage name', label: 'Label text'}\",insertRestartLink:\"{restart link, label: 'Label text'}\",insertRevealPassageLink:\"{reveal link: 'Label text', passage: 'Passage name'}\",insertRevealTextLink:\"{restart link: 'Label text', text: 'Displayed text'}\",insertSectionBreak:\"\\n***\\n\",insertTextInput:\"{text input for: 'variable name'}\",insertUnless:\"\\n[unless condition]\\nText\\n\\n[continued]\\n\"})),s=\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' class='icon icon-tabler icon-tabler-brackets' width='24' height='24' viewBox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round'%3e %3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e %3cpath d='M8 4h-3v16h3' /%3e %3cpath d='M16 4h3v16h-3' /%3e%3c/svg%3e\",l=\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' class='icon icon-tabler icon-tabler-brush' width='24' height='24' viewBox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round'%3e %3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e %3cpath d='M3 21v-4a4 4 0 1 1 4 4h-4' /%3e %3cpath d='M21 3a16 16 0 0 0 -12.8 10.2' /%3e %3cpath d='M21 3a16 16 0 0 1 -10.2 12.8' /%3e %3cpath d='M10.6 9a9 9 0 0 1 4.4 4.4' /%3e%3c/svg%3e\",c=\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' class='icon icon-tabler icon-tabler-frame' width='24' height='24' viewBox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round'%3e %3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e %3cline x1='4' y1='7' x2='20' y2='7' /%3e %3cline x1='4' y1='17' x2='20' y2='17' /%3e %3cline x1='7' y1='4' x2='7' y2='20' /%3e %3cline x1='17' y1='4' x2='17' y2='20' /%3e%3c/svg%3e\",d=\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' class='icon icon-tabler icon-tabler-hand-click' width='24' height='24' viewBox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round'%3e %3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e %3cpath d='M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5' /%3e %3cpath d='M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5' /%3e %3cpath d='M14 10.5a1.5 1.5 0 0 1 3 0v1.5' /%3e %3cpath d='M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47' /%3e %3cpath d='M5 3l-1 -1' /%3e %3cpath d='M4 7h-1' /%3e %3cpath d='M14 3l1 -1' /%3e %3cpath d='M15 6h1' /%3e%3c/svg%3e\",u=\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' class='icon icon-tabler icon-tabler-link' width='24' height='24' viewBox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round'%3e %3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e %3cpath d='M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5' /%3e %3cpath d='M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5' /%3e%3c/svg%3e\";var m={\"^2.4.0-beta2\":{codeMirror:{commands:i,mode:function(){return{startState:function(){return{inVarsSection:!1}},token:function(e,t){if(void 0===t.hasVarsSection){for(var n=1,o=e.lookAhead(1);o&&void 0===t.hasVarsSection;o=e.lookAhead(++n))\"--\"===o&&(t.hasVarsSection=!0,t.inVarsSection=!0);void 0===t.hasVarsSection&&(t.hasVarsSection=!1)}return t.hasVarsSection&&t.inVarsSection&&e.sol()?e.match(/^--$/)?(t.inVarsSection=!1,\"punctuation\"):(e.skipTo(\":\"),\"def\"):e.sol()&&e.match(/^\\[[^[].*\\]$/)||e.match(/^\\{.+?\\}/)?\"keyword\":e.match(/^\\[\\[[^\\]]+?\\]\\]/)?\"link\":(e.eatWhile(/[^[{]/)||e.skipToEnd(),\"text\")}}},toolbar:function(e,t){var n=e.getDoc().somethingSelected();return[{type:\"menu\",icon:l.replace(/currentColor/g,t.foregroundColor),label:\"Style\",items:[{type:\"button\",iconOnly:!0,label:\"Bold\",command:\"boldText\",disabled:!n},{type:\"button\",label:\"Italic\",command:\"italicText\",disabled:!n},{type:\"button\",label:\"Monospaced Text\",command:\"monospacedText\",disabled:!n},{type:\"button\",label:\"Small Caps\",command:\"smallCapsText\",disabled:!n},{type:\"separator\"},{type:\"button\",label:\"Blockquote\",command:\"insertBlockquote\",disabled:n},{type:\"button\",label:\"Bulleted List\",command:\"insertBulletedList\",disabled:n},{type:\"button\",label:\"Fork List\",command:\"insertForkList\",disabled:n},{type:\"button\",label:\"Numbered List\",command:\"insertNumberedList\",disabled:n},{type:\"button\",label:\"Section Break\",command:\"insertSectionBreak\",disabled:n}]},{type:\"menu\",icon:u.replace(/currentColor/g,t.foregroundColor),label:\"Link\",disabled:n,items:[{type:\"button\",label:\"Passage Link\",command:\"insertPassageLink\"},{type:\"button\",label:\"Restart Link\",command:\"insertRestartLink\"},{type:\"button\",label:\"Reveal Passage Link\",command:\"insertRevealPassageLink\"},{type:\"button\",label:\"Reveal Text Link\",command:\"insertRevealTextLink\"}]},{type:\"menu\",icon:s.replace(/currentColor/g,t.foregroundColor),label:\"Modifiers\",disabled:n,items:[{type:\"button\",label:\"If\",command:\"insertIf\"},{type:\"button\",label:\"If and Else\",command:\"insertIfElse\"},{type:\"button\",label:\"Unless\",command:\"insertUnless\"},{type:\"button\",label:\"Continue\",command:\"insertContinue\"},{type:\"separator\"},{type:\"button\",label:\"After Delay\",command:\"insertAfter\"},{type:\"button\",label:\"Append Text\",command:\"insertAppend\"},{type:\"button\",label:\"Note\",command:\"insertNote\"},{type:\"separator\"},{type:\"button\",label:\"JavaScript\",command:\"insertJs\"},{type:\"button\",label:\"CSS\",command:\"insertCss\"}]},{type:\"menu\",icon:c.replace(/currentColor/g,t.foregroundColor),label:\"Embed\",disabled:n,items:[{type:\"button\",label:\"Embed Passage\",command:\"insertEmbedPassage\"},{type:\"button\",label:\"Embed Image from Flickr\",command:\"insertImageFlickr\"},{type:\"button\",label:\"Embed Image from URL\",command:\"insertImageUrl\"},{type:\"button\",label:\"Embed Image from Unsplash\",command:\"insertImageUnsplash\"},{type:\"button\",label:\"Embed Ambient Sound\",command:\"insertEmbedAmbientSound\"},{type:\"button\",label:\"Embed Sound Effect\",command:\"insertEmbedSoundEffect\"},{type:\"button\",label:\"Embed YouTube Video\",command:\"insertEmbedYouTubeVideo\"}]},{type:\"menu\",icon:d.replace(/currentColor/g,t.foregroundColor),label:\"Input\",disabled:n,items:[{type:\"button\",label:\"Cycling Link\",command:\"insertCyclingLink\"},{type:\"button\",label:\"Dropdown Menu\",command:\"insertDropdownMenu\"},{type:\"button\",label:\"Text Input\",command:\"insertTextInput\"}]}]}},references:{parsePassageText:function(e){for(var t=[],n=0,o=[/\\{embed\\s+passage\\s*:\\s*['\"](.+?)['\"]\\s*}/g,/\\{link\\s+to\\s*:\\s*['\"](.+?)['\"]\\s*\\}/g,/\\{reveal\\s+link.+passage\\s*:\\s*['\"](.+?)['\"].*\\}/g];n<o.length;n++)for(var a=o[n],r=void 0;r=a.exec(e);)t.push(r[1]);return t}}}};n.default.editorExtensions={twine:m}}(this);\n",
    "image": "logo.svg",
    "name": "Chapbook",
    "proofing": false,
    "version": "1.2.3"
})